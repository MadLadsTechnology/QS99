(function(){var e={2497:function(e,t,r){"use strict";var s=r(9242),o=r(3396);function n(e,t,r,s,n,l){const u=(0,o.up)("NavigationMenu"),i=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(u),(0,o.Wm)(i)],64)}var l=r(7139),u=r(6949);const i=e=>((0,o.dD)("data-v-596ce0fe"),e=e(),(0,o.Cn)(),e),a={class:"container"},d=i((()=>(0,o._)("img",{src:u,alt:"Logo"},null,-1))),c={key:0},m=i((()=>(0,o._)("h3",null,"Dashboard",-1))),p=i((()=>(0,o._)("h3",null,"Subjects",-1))),b={key:1,class:"userInformation"};function h(e,t,r,s,n,u){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(i,{to:"/"},{default:(0,o.w5)((()=>[d])),_:1}),e.loggedIn?((0,o.wg)(),(0,o.iD)("div",c,[this.$store.getters.isAdmin?((0,o.wg)(),(0,o.j4)(i,{key:0,class:"routerLink",to:"/subjects"},{default:(0,o.w5)((()=>[m])),_:1})):((0,o.wg)(),(0,o.j4)(i,{key:1,class:"routerLink",to:"/subjects"},{default:(0,o.w5)((()=>[p])),_:1}))])):(0,o.kq)("",!0),e.loggedIn?((0,o.wg)(),(0,o.iD)("div",b,[(0,o._)("h3",null,(0,l.zw)(this.$store.state.user.emailAddress),1),(0,o._)("button",{class:"logOutBtn",onClick:t[0]||(t[0]=e=>u.logOut())},"Log out")])):(0,o.kq)("",!0)])}var g=r(65);const w={...(0,g.Se)(["loggedIn"])};var v={methods:{logOut(){this.$store.dispatch("logout"),this.$router.push("/")}},computed:{...w}},f=r(89);const j=(0,f.Z)(v,[["render",h],["__scopeId","data-v-596ce0fe"]]);var y=j,_={created(){const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);this.$store.commit("SET_USER_DATA",t)}document.title="QS99"},components:{NavigationMenu:y},computed:{}};const S=(0,f.Z)(_,[["render",n]]);var k=S,U=r(678);const A=(0,o._)("h3",null,"Active queues",-1),V={key:0,class:"teacherToolbar"},D=(0,o._)("button",null,null,-1),W=[D],q={class:"cardHolder"},C=(0,o._)("h3",null,"Other subjects",-1),I={class:"cardHolder"};function z(e,t,r,s,n,l){const u=(0,o.up)("SubjectCard");return(0,o.wg)(),(0,o.iD)(o.HY,null,[A,this.$store.getters.isProfessor?((0,o.wg)(),(0,o.iD)("div",V,W)):(0,o.kq)("",!0),(0,o._)("div",q,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.subjects.active,(e=>((0,o.wg)(),(0,o.j4)(u,{key:parseInt(e.id),subject:e},null,8,["subject"])))),128))]),C,(0,o._)("div",I,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.subjects.inActive,(e=>((0,o.wg)(),(0,o.j4)(u,{key:parseInt(e.id),subject:e},null,8,["subject"])))),128))])],64)}const M=e=>((0,o.dD)("data-v-69ee9ede"),e=e(),(0,o.Cn)(),e),x={class:"card"},$=M((()=>(0,o._)("br",null,null,-1)));function Z(e,t,r,s,n,u){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(i,{to:{name:"SubjectLayout",params:{id:r.subject.id}}},{default:(0,o.w5)((()=>[(0,o._)("div",x,[(0,o._)("h1",null,(0,l.zw)(r.subject.subjectCode),1),(0,o.Uk)(" "+(0,l.zw)(r.subject.subjectName)+" "+(0,l.zw)(r.subject.id)+" ",1),$])])),_:1},8,["to"])}var T={props:{subject:{type:Object,required:!0}}};const E=(0,f.Z)(T,[["render",Z],["__scopeId","data-v-69ee9ede"]]);var O=E,N=r(6265),H=r.n(N),Q={name:"HomeView",components:{SubjectCard:O},async created(){document.title="QS99 - Subjects",await H().get("http://localhost:8001/subject/getByUser").then((e=>{this.allSubjects=e.data}))},data(){return{allSubjects:[]}},computed:{...w,subjects:function(){const e=[],t=[];for(let r=0;r<this.allSubjects.length;r++)console.log(this.allSubjects[r]),!0===this.allSubjects[r].queueActive?e.push(this.allSubjects[r]):t.push(this.allSubjects[r]);return{active:e,inActive:t}}}};const R=(0,f.Z)(Q,[["render",z]]);var L=R;const B={key:0},Y={id:"nav"},P=(0,o.Uk)("Queue"),F=(0,o.Uk)(" | "),K=(0,o.Uk)("Details"),G=(0,o.Uk)(" | "),J=(0,o.Uk)("Assignments");function X(e,t,r,s,n,u){const i=(0,o.up)("router-link"),a=(0,o.up)("router-view");return n.subject?((0,o.wg)(),(0,o.iD)("div",B,[(0,o._)("h1",null,(0,l.zw)(n.subject.subjectCode),1),(0,o._)("div",Y,[(0,o.Wm)(i,{to:{name:"SubjectQueue"}},{default:(0,o.w5)((()=>[P])),_:1}),F,(0,o.Wm)(i,{to:{name:"SubjectDetails"}},{default:(0,o.w5)((()=>[K])),_:1}),G,(0,o.Wm)(i,{to:{name:"SubjectAssignments"}},{default:(0,o.w5)((()=>[J])),_:1})]),(0,o.Wm)(a,{subject:n.subject},null,8,["subject"])])):(0,o.kq)("",!0)}var ee={props:["id"],data(){return{subject:null}},async created(){await H().get("http://localhost:8001/subject/getSubject",{params:{subjectId:parseInt(this.id)}}).then((e=>{this.subject=e.data})).catch((e=>{alert(e)})),document.title="QS99 - "+this.subject.subjectCode}};const te=(0,f.Z)(ee,[["render",X]]);var re=te;function se(e,t,r,s,n,u){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("h1",null,(0,l.zw)(r.subject.subjectName),1),(0,o._)("h3",null,(0,l.zw)(r.subject.subjectDescription),1)],64)}var oe={props:["subject"]};const ne=(0,f.Z)(oe,[["render",se]]);var le=ne;const ue=(0,o._)("h1",null,"Queue",-1);function ie(e,t,r,s,n,u){return(0,o.wg)(),(0,o.iD)(o.HY,null,[ue,(0,o._)("button",{onClick:t[0]||(t[0]=e=>this.$router.push("JoinQueue"))},"Join queue"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.queue,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:e.lastname,class:"entry"},[(0,o._)("label",null,(0,l.zw)(t+1),1),(0,o.Uk)(" "+(0,l.zw)(e.lastname)+", "+(0,l.zw)(e.firstname)+" | Ã˜ving "+(0,l.zw)(e.assignment),1)])))),128))],64)}var ae={props:["subject"],created(){H().get("http://localhost:8001/queue",{params:{subjectId:this.subject.id}}).then((e=>{this.queue=e.data}))},methods:{},data(){return{queue:null}}};const de=(0,f.Z)(ae,[["render",ie]]);var ce=de;const me={class:"cardHolder"};function pe(e,t,r,s,n,l){const u=(0,o.up)("AssignementCard");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",me,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.assignments,(e=>((0,o.wg)(),(0,o.j4)(u,{key:parseInt(e.id),assignment:e},null,8,["assignment"])))),128))])])}const be={class:"card"},he={key:0},ge={key:1};function we(e,t,r,s,n,u){return(0,o.wg)(),(0,o.iD)("div",be,[(0,o._)("h2",null,"Assignment "+(0,l.zw)(r.assignment.exerciseNumber),1),r.assignment.approved?((0,o.wg)(),(0,o.iD)("h3",he,"Approved")):((0,o.wg)(),(0,o.iD)("h3",ge,"Not approved"))])}var ve={props:{assignment:{type:Object,required:!0}}};const fe=(0,f.Z)(ve,[["render",we],["__scopeId","data-v-14d556ce"]]);var je=fe,ye={name:"AssignementView",props:["subject"],components:{AssignementCard:je},async created(){document.title="QS99 - Subjects",await H().get("http://localhost:8001/exercise/getByUser",{params:{subjectId:parseInt(this.subject.id)}}).then((e=>{this.assignments=e.data,console}))},data(){return{assignments:null}}};const _e=(0,f.Z)(ye,[["render",pe]]);var Se=_e;const ke=(0,o._)("h1",null,"Get in the queue!",-1),Ue={class:"checkBoxHolder"},Ae=["id","disabled","value"],Ve=["for"],De=(0,o._)("label",{for:"one"},"Help",-1),We=(0,o._)("br",null,null,-1),qe=(0,o._)("label",{for:"two"},"Approval",-1),Ce=(0,o._)("br",null,null,-1),Ie=["disabled"],ze={key:0};function Me(e,t,r,n,u,i){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",null,[u.assignments?((0,o.wg)(),(0,o.iD)("form",{key:0,class:"loginForm",onSubmit:t[6]||(t[6]=(0,s.iM)((e=>i.submit()),["prevent"]))},[ke,(0,o.Wm)(a,{label:"Room",type:"text",modelValue:n.room,"onUpdate:modelValue":t[0]||(t[0]=e=>n.room=e),modelModifiers:{lazy:!0},error:n.errors.room},null,8,["modelValue","error"]),(0,o.Wm)(a,{label:"Building",type:"text",modelValue:n.building,"onUpdate:modelValue":t[1]||(t[1]=e=>n.building=e),modelModifiers:{lazy:!0},error:n.errors.building},null,8,["modelValue","error"]),(0,o.Wm)(a,{label:"Table number",type:"number",modelValue:n.tableNumber,"onUpdate:modelValue":t[2]||(t[2]=e=>n.tableNumber=e),modelModifiers:{lazy:!0},error:n.errors.tableNumber},null,8,["modelValue","error"]),(0,o._)("div",Ue,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.assignments,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e},[(0,o.wy)((0,o._)("input",{type:"checkbox",id:e.id,disabled:e.approved,value:e.id,"onUpdate:modelValue":t[3]||(t[3]=e=>u.exercises=e)},null,8,Ae),[[s.e8,u.exercises]]),(0,o._)("label",{for:e.id},(0,l.zw)(e.exerciseNumber),9,Ve)])))),128))]),(0,o.wy)((0,o._)("input",{type:"radio",id:"one",value:"help",checked:"checked","onUpdate:modelValue":t[4]||(t[4]=e=>u.helpType=e)},null,512),[[s.G2,u.helpType]]),De,We,(0,o.wy)((0,o._)("input",{type:"radio",id:"two",value:"approval","onUpdate:modelValue":t[5]||(t[5]=e=>u.helpType=e)},null,512),[[s.G2,u.helpType]]),qe,Ce,(0,o._)("button",{disabled:!i.isValid,type:"submit"},"Submit",8,Ie),u.error?((0,o.wg)(),(0,o.iD)("p",ze,(0,l.zw)(u.error),1)):(0,o.kq)("",!0)],32)):(0,o.kq)("",!0)])}var xe=r(5708),$e=r(6542),Ze={props:["subject"],data(){return{error:null,helpType:"help",assignments:null,exercises:[]}},created(){H().get("http://localhost:8001/exercise/getByUser",{params:{subjectId:parseInt(this.subject.id)}}).then((e=>{this.assignments=e.data})).catch((e=>{console.log(e)})),document.title="QS99 - Join queue"},methods:{submit(){console.log(this.exercises),H().post("http://localhost:8001/queue/addEntry",{exercises:this.exercises},{params:{room:this.room,building:this.building,tableNumber:this.tableNumber,type:this.helpType,subjectId:this.subject.id}}).then((()=>{this.$router.push("/subjects/:id/queue")})).catch((e=>{console.log(e)}))}},setup(){const e=(0,$e.Ry)({room:(0,$e.Z_)().required(),building:(0,$e.Z_)().required(),tableNumber:(0,$e.Rx)().required()}),{errors:t}=(0,xe.cI)({validationSchema:e}),{value:r}=(0,xe.U$)("room"),{value:s}=(0,xe.U$)("building"),{value:o}=(0,xe.U$)("tableNumber");return{room:r,building:s,tableNumber:o,errors:t}},computed:{isValid(){return!(this.errors.room||this.errors.building||this.errors.tableNumber)&&(this.room&&this.building&&this.tableNumber)}}};const Te=(0,f.Z)(Ze,[["render",Me]]);var Ee=Te;const Oe=(0,o._)("h1",null,"Register a new user",-1),Ne={key:0},He=(0,o._)("label",{for:"one"},"Professor",-1),Qe=(0,o._)("br",null,null,-1),Re=(0,o._)("label",{for:"two"},"Student",-1),Le=["disabled"],Be={key:1};function Ye(e,t,r,n,u,i){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("form",{class:"loginForm",onSubmit:t[5]||(t[5]=(0,s.iM)((e=>i.submit()),["prevent"]))},[Oe,(0,o.Wm)(a,{label:"Last name",type:"lastname",modelValue:n.lastname,"onUpdate:modelValue":t[0]||(t[0]=e=>n.lastname=e),modelModifiers:{lazy:!0},error:n.errors.lastname},null,8,["modelValue","error"]),(0,o.Wm)(a,{label:"First name",type:"text",modelValue:n.firstname,"onUpdate:modelValue":t[1]||(t[1]=e=>n.firstname=e),modelModifiers:{lazy:!0},error:n.errors.firstname},null,8,["modelValue","error"]),(0,o.Wm)(a,{label:"Email",type:"email",modelValue:n.email,"onUpdate:modelValue":t[2]||(t[2]=e=>n.email=e),modelModifiers:{lazy:!0},error:n.errors.email},null,8,["modelValue","error"]),this.$store.getters.isAdmin?((0,o.wg)(),(0,o.iD)("div",Ne,[(0,o.wy)((0,o._)("input",{type:"radio",id:"one",value:"Professor",checked:"checked","onUpdate:modelValue":t[3]||(t[3]=e=>u.userType=e)},null,512),[[s.G2,u.userType]]),He,Qe,(0,o.wy)((0,o._)("input",{type:"radio",id:"two",value:"Student","onUpdate:modelValue":t[4]||(t[4]=e=>u.userType=e)},null,512),[[s.G2,u.userType]]),Re])):(0,o.kq)("",!0),(0,o._)("button",{disabled:!i.isValid,type:"submit"},"Submit",8,Le),u.error?((0,o.wg)(),(0,o.iD)("p",Be,(0,l.zw)(u.error),1)):(0,o.kq)("",!0)],32)])}var Pe={data(){return{error:null,userType:""}},created(){document.title="QS99 - Login"},methods:{submit(){let e="http://localhost:8001/user/registerStudent";"Professor"===this.userType&&(e="http://localhost:8001/user/registerProfessor"),H().post(e,null,{params:{lastname:this.lastname,firstname:this.firstname,email:this.email}}).then((()=>{this.$router.push("/admin/users")})).catch((e=>{console.log(e)}))}},setup(){const e=(0,$e.Ry)({lastname:(0,$e.Z_)().required(),firstname:(0,$e.Z_)().required(),email:(0,$e.Z_)().email("Invalid email format").required()}),{errors:t}=(0,xe.cI)({validationSchema:e}),{value:r}=(0,xe.U$)("lastname"),{value:s}=(0,xe.U$)("firstname"),{value:o}=(0,xe.U$)("email");return{lastname:r,firstname:s,email:o,errors:t}},computed:{isValid(){return!(this.errors.email||this.errors.lastname||this.errors.firstname)&&(this.email&&this.lastname&&this.firstname)}}};const Fe=(0,f.Z)(Pe,[["render",Ye]]);var Ke=Fe;const Ge=(0,o._)("h1",null,"Log in",-1),Je=["disabled"],Xe=(0,o._)("br",null,null,-1),et=(0,o.Uk)("Dont have a user? Register here!"),tt={key:0};function rt(e,t,r,n,u,i){const a=(0,o.up)("BaseInput"),d=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("form",{class:"loginForm",onSubmit:t[2]||(t[2]=(0,s.iM)((e=>i.submit()),["prevent"]))},[Ge,(0,o.Wm)(a,{label:"Email",type:"email",modelValue:n.email,"onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),modelModifiers:{lazy:!0},error:n.errors.email},null,8,["modelValue","error"]),(0,o.Wm)(a,{label:"Password",type:"password",modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),error:n.errors.password},null,8,["modelValue","error"]),(0,o._)("button",{disabled:!i.isValid,type:"submit"},"Log in",8,Je),Xe,(0,o.Wm)(d,{to:"register"},{default:(0,o.w5)((()=>[et])),_:1}),u.error?((0,o.wg)(),(0,o.iD)("p",tt,(0,l.zw)(n.errors),1)):(0,o.kq)("",!0)],32)])}var st={data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){this.$store.dispatch("login",{email:this.email,password:this.password}).then((()=>{this.$router.push("/subjects")})).catch((e=>{this.error=e}))}},setup(){const e=(0,$e.Ry)({email:(0,$e.Z_)().email("Invalid email format").required(),password:(0,$e.Z_)().required()}),{errors:t}=(0,xe.cI)({validationSchema:e}),{value:r}=(0,xe.U$)("email"),{value:s}=(0,xe.U$)("password");return{email:r,password:s,errors:t}},computed:{isValid(){return!this.errors.email&&!this.errors.password&&(this.email&&this.password)}}};const ot=(0,f.Z)(st,[["render",rt]]);var nt=ot;const lt={id:"nav"},ut=(0,o.Uk)("Users"),it=(0,o.Uk)(" | "),at=(0,o.Uk)("Subjects");function dt(e,t){const r=(0,o.up)("router-link"),s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",lt,[(0,o.Wm)(r,{to:{name:"users"}},{default:(0,o.w5)((()=>[ut])),_:1}),it,(0,o.Wm)(r,{to:{name:"allSubjects"}},{default:(0,o.w5)((()=>[at])),_:1})]),(0,o.Wm)(s)],64)}const ct={},mt=(0,f.Z)(ct,[["render",dt]]);var pt=mt;const bt=(0,o._)("h3",null,"All users",-1),ht=(0,o.Uk)("Register user"),gt=["onClick"];function wt(e,t,r,s,n,u){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[bt,(0,o.Wm)(i,{to:"/register"},{default:(0,o.w5)((()=>[ht])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.users,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"user"},[(0,o._)("p",null,(0,l.zw)(e.emailAddress),1),(0,o._)("p",null,(0,l.zw)(e.lastname),1),(0,o._)("p",null,(0,l.zw)(e.firstname),1),(0,o._)("button",{onClick:t=>u.deleteUser(e)},"Delete",8,gt)])))),128))],64)}var vt={name:"HomeView",methods:{deleteUser(e){H()["delete"]("http://localhost:8001/user",{params:{email:e.emailAddress}}).then((e=>{this.users=e.data})).catch((e=>{alert(e.message)}))}},components:{},created(){document.title="QS99 - Students",H().get("http://localhost:8001/user/getAllUsers").then((e=>{this.users=e.data}))},data(){return{users:null}},computed:{...w}};const ft=(0,f.Z)(vt,[["render",wt]]);var jt=ft;const yt=(0,o._)("h3",null,"All Subjects",-1),_t=(0,o._)("button",null,"Create a subject",-1),St={class:"subjectlist"},kt=["onClick"],Ut=["onClick"],At=["onClick"];function Vt(e,t,r,s,n,u){const i=(0,o.up)("AddExercises"),a=(0,o.up)("AddUserToSubject"),d=(0,o.up)("AddMultipleUsersToSubject"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[n.showAddExercises?((0,o.wg)(),(0,o.j4)(i,{key:0,onCloseWindow:u.closeWindow,subject:n.currentSubject},null,8,["onCloseWindow","subject"])):(0,o.kq)("",!0),n.showAddSingleUser?((0,o.wg)(),(0,o.j4)(a,{key:1,onCloseWindow:u.closeWindow,subject:n.currentSubject},null,8,["onCloseWindow","subject"])):(0,o.kq)("",!0),n.showAddMultipleUsers?((0,o.wg)(),(0,o.j4)(d,{key:2,onCloseWindowMultipleUsers:u.closeWindow,subject:n.currentSubject},null,8,["onCloseWindowMultipleUsers","subject"])):(0,o.kq)("",!0),yt,(0,o.Wm)(c,{to:"/createSubject"},{default:(0,o.w5)((()=>[_t])),_:1}),(0,o._)("div",St,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.subjects,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"subject"},[(0,o._)("p",null,(0,l.zw)(e.subjectCode),1),(0,o._)("p",null,(0,l.zw)(e.subjectName),1),(0,o._)("p",null,(0,l.zw)(e.subjectDescription),1),(0,o._)("p",null,(0,l.zw)(e.subjectYear),1),(0,o._)("button",{onClick:t=>u.showSingleUserWindow(e.id,e.subjectCode)}," Add user ",8,kt),(0,o._)("button",{onClick:t=>u.showMultipleUserWindow(e.id,e.subjectCode)}," Add multiple users ",8,Ut),(0,o._)("button",{onClick:t=>u.showAddExercisesWindow(e.id,e.subjectCode)}," Add exercises ",8,At)])))),128))])],64)}const Dt={class:"window"},Wt=["disabled"];function qt(e,t,r,n,u,i){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",Dt,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>i.closeWindow())},"Close"),(0,o._)("form",{class:"loginForm",onSubmit:t[2]||(t[2]=(0,s.iM)((e=>i.submit()),["prevent"]))},[(0,o._)("h1",null,"Add user to "+(0,l.zw)(r.subject.code),1),(0,o.Wm)(a,{label:"Email",type:"email",modelValue:n.email,"onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e),modelModifiers:{lazy:!0},error:n.errors.email},null,8,["modelValue","error"]),(0,o._)("button",{disabled:!i.isValid,type:"submit"},"Submit",8,Wt)],32)])}var Ct={props:{subject:{type:Object,required:!0}},data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){H().post("http://localhost:8001/subject/addUser",null,{params:{subjectId:this.subject.id,email:this.email}}).then((()=>{this.closeWindow()})).catch((e=>{alert(e)}))},closeWindow(){this.$emit("closeWindow")}},setup(){const e=(0,$e.Ry)({email:(0,$e.Z_)().email("Invalid email format").required()}),{errors:t}=(0,xe.cI)({validationSchema:e}),{value:r}=(0,xe.U$)("email");return{email:r,errors:t}},computed:{isValid(){return!this.errors.email&&this.email}}};const It=(0,f.Z)(Ct,[["render",qt]]);var zt=It;const Mt={class:"background"},xt={class:"window"},$t=["disabled"];function Zt(e,t,r,n,u,i){return(0,o.wg)(),(0,o.iD)("div",Mt,[(0,o._)("div",xt,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>i.closeWindow())},"Close"),(0,o._)("h1",null,"Add multiple users to "+(0,l.zw)(r.subject.code),1),(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.users=e),placeholder:"Paste emails separated by new lines"},"\n      ",512),[[s.nr,u.users]]),(0,o._)("button",{disabled:null==u.users,onClick:t[2]||(t[2]=(...e)=>i.submit&&i.submit(...e))},"Submit",8,$t)])])}var Tt={props:{subject:{type:Object,required:!0}},data(){return{error:null,users:""}},created(){document.title="QS99 - Login"},methods:{submit(){H().post("http://localhost:8001/subject/addUsers",{data:this.users},{params:{subjectId:this.subject.id}}).then((()=>{this.closeWindow()})).catch((e=>{alert(e)}))},closeWindow(){this.$emit("closeWindowMultipleUsers")}},computed:{}};const Et=(0,f.Z)(Tt,[["render",Zt]]);var Ot=Et;const Nt={class:"window"},Ht=["disabled"];function Qt(e,t,r,n,u,i){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",Nt,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>i.closeWindow())},"Close"),(0,o._)("form",{class:"loginForm",onSubmit:t[3]||(t[3]=(0,s.iM)((e=>i.submit()),["prevent"]))},[(0,o._)("h1",null,"Add exercises to "+(0,l.zw)(r.subject.code),1),(0,o.Wm)(a,{label:"Number of exercises",type:"number",modelValue:n.count,"onUpdate:modelValue":t[1]||(t[1]=e=>n.count=e),modelModifiers:{lazy:!0},error:n.errors.count},null,8,["modelValue","error"]),(0,o.Wm)(a,{label:"Number of mandatory",type:"number",modelValue:n.mandatory,"onUpdate:modelValue":t[2]||(t[2]=e=>n.mandatory=e),modelModifiers:{lazy:!0},error:n.errors.mandatory},null,8,["modelValue","error"]),(0,o._)("button",{disabled:!i.isValid,type:"submit"},"Submit",8,Ht)],32)])}var Rt={props:{subject:{type:Object,required:!0}},data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){H().post("http://localhost:8001/exercise",null,{params:{subjectId:this.subject.id,numberOfExercises:this.count,numberOfMandatory:this.mandatory}}).then((()=>{this.closeWindow()})).catch((e=>{alert(e)}))},closeWindow(){this.$emit("closeWindow")}},setup(){const e=(0,$e.Ry)({count:(0,$e.Rx)().min(1).required(),mandatory:(0,$e.Rx)().min(1).required()}),{errors:t}=(0,xe.cI)({validationSchema:e}),{value:r}=(0,xe.U$)("count"),{value:s}=(0,xe.U$)("mandatory");return{count:r,mandatory:s,errors:t}},computed:{isValid(){return!this.errors.count&&!this.errors.mandatory&&(this.count&&this.mandatory)}}};const Lt=(0,f.Z)(Rt,[["render",Qt]]);var Bt=Lt,Yt={name:"HomeView",components:{AddUserToSubject:zt,AddMultipleUsersToSubject:Ot,AddExercises:Bt},methods:{setCurrentSubject(e,t){this.currentSubject={code:t,id:e}},showSingleUserWindow(e,t){this.setCurrentSubject(e,t),this.showAddSingleUser=!0,this.showAddMultipleUsers=!1},showMultipleUserWindow(e,t){this.setCurrentSubject(e,t),this.showAddSingleUser=!1,this.showAddMultipleUsers=!0},showAddExercisesWindow(e,t){this.setCurrentSubject(e,t),this.showAddSingleUser=!1,this.showAddMultipleUsers=!1,this.showAddExercises=!0},closeWindow(){this.showAddSingleUser=!1,this.showAddMultipleUsers=!1,this.showAddExercises=!1}},async created(){document.title="QS99 - Students",await H().get("http://localhost:8001/subject/getAllSubject").then((e=>{this.subjects=e.data}))},data(){return{subjects:null,showAddSingleUser:!1,showAddMultipleUsers:!1,showAddExercises:!1,currentSubject:null}},computed:{...w}};const Pt=(0,f.Z)(Yt,[["render",Vt]]);var Ft=Pt;const Kt=(0,o._)("h1",null,"Create a subject",-1),Gt=["disabled"],Jt={key:0};function Xt(e,t,r,n,u,i){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("form",{class:"loginForm",onSubmit:t[4]||(t[4]=(0,s.iM)((e=>i.submit()),["prevent"]))},[Kt,(0,o.Wm)(a,{label:"Subject code",type:"text",modelValue:n.code,"onUpdate:modelValue":t[0]||(t[0]=e=>n.code=e),modelModifiers:{lazy:!0},error:n.errors.email},null,8,["modelValue","error"]),(0,o.Wm)(a,{label:"Subject name",type:"text",modelValue:n.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.name=e),modelModifiers:{lazy:!0},error:n.errors.firstname},null,8,["modelValue","error"]),(0,o.Wm)(a,{label:"Description",type:"text",modelValue:n.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.description=e),modelModifiers:{lazy:!0},error:n.errors.email},null,8,["modelValue","error"]),(0,o.Wm)(a,{label:"Year of lecturing",type:"text",modelValue:n.year,"onUpdate:modelValue":t[3]||(t[3]=e=>n.year=e),error:n.errors.password},null,8,["modelValue","error"]),(0,o._)("button",{disabled:!i.isValid,type:"submit"},"Submit",8,Gt),u.error?((0,o.wg)(),(0,o.iD)("p",Jt,(0,l.zw)(u.error),1)):(0,o.kq)("",!0)],32)])}var er={data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){H().post("http://localhost:8001/subject/create",null,{params:{subjectName:this.name,subjectCode:this.code,subjectDescription:this.description,year:this.year}}).then((()=>{this.$router.push("/admin/subjects")})).catch((e=>{console.log(e)}))}},setup(){const e=(0,$e.Ry)({name:(0,$e.Z_)().required(),code:(0,$e.Z_)().required(),description:(0,$e.Z_)().required(),year:(0,$e.Z_)().required()}),{errors:t}=(0,xe.cI)({validationSchema:e}),{value:r}=(0,xe.U$)("name"),{value:s}=(0,xe.U$)("code"),{value:o}=(0,xe.U$)("description"),{value:n}=(0,xe.U$)("year");return{name:r,code:s,description:o,year:n,errors:t}},computed:{isValid(){return!(this.errors.name||this.errors.code||this.errors.description||this.errors.year)&&(this.name&&this.code&&this.description&&this.year)}}};const tr=(0,f.Z)(er,[["render",Xt]]);var rr=tr;const sr=(0,g.MT)({state:{user:null},getters:{loggedIn(e){return!!e.user},isProfessor(e){return"Professor"===e.user.role},isAdmin(e){return"Admin"===e.user.role}},mutations:{SET_USER_DATA(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t)),H().defaults.headers.common.authorization="Bearer "+t.token},async CLEAR_USER_DATA(){await localStorage.removeItem("user"),location.reload()}},actions:{login({commit:e},t){return H().post("http://localhost:8001/user/login",null,{params:{email:t.email,password:t.password}}).then((t=>{e("SET_USER_DATA",t.data)}))},logout({commit:e}){e("CLEAR_USER_DATA")}},modules:{}});var or=sr;const nr=[{path:"/",redirect:"/subjects"},{path:"/subjects",name:"subjects",component:L,meta:{requiresAuth:!0}},{path:"/subjects/:id",name:"SubjectLayout",props:!0,component:re,meta:{requiresAuth:!0},children:[{path:"queue",name:"SubjectQueue",component:ce},{path:"details",name:"SubjectDetails",component:le},{path:"assignments",name:"SubjectAssignments",component:Se},{path:"joinQueue",name:"joinQueue",component:Ee}]},{path:"/login",name:"login",component:nt},{path:"/register",name:"register",component:Ke},{path:"/admin",name:"admin",props:!0,component:pt,meta:{requiresAuth:!0},children:[{path:"users",name:"users",component:jt},{path:"subjects",name:"allSubjects",component:Ft}]},{path:"/createSubject",name:"createSubject",component:rr}],lr=(0,U.p7)({history:(0,U.r5)(),routes:nr});lr.beforeEach(((e,t,r)=>{const s=["/login"],o=s.includes(e.path),n=["/admin","/register"],l=n.includes(e.path),u=["/subjects"],i=u.includes(e.path),a=localStorage.getItem("user");let d=!1;return a&&(d=or.getters.isAdmin),l&&!a||i&&!a?r("/login"):o&&a&&!d||l&&!d&&a?r("/subjects"):i&&d&&a||o&&d&&a?r("/admin"):r()}));var ur=lr,ir=r(4609),ar=r.n(ir),dr=r(8420),cr=r.n(dr);const mr=r(1917),pr=(0,s.ri)(k);mr.keys().forEach((e=>{const t=mr(e),r=ar()(cr()(e.replace(/^\.\/(.*)\.\w+$/,"$1")));pr.component(r,t.default||t)})),pr.use(or).use(ur).mount("#app")},4524:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var s=r(3396);const o=["id"];function n(e,t,r,n,l,u){return(0,s.wg)(),(0,s.iD)("p",{"aria-live":"assertive",class:"errorMessage",id:r.id},[(0,s.WI)(e.$slots,"default",{},void 0,!0)],8,o)}var l={props:{id:{type:[String,Number],required:!0}}},u=r(89);const i=(0,u.Z)(l,[["render",n],["__scopeId","data-v-b3a6cd26"]]);var a=i},3211:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(3396),o=r(7139);const n={class:"container"},l=["for"],u=["id","value","placeholder","aria-describedby","aria-invalid"];function i(e,t,r,i,a,d){const c=(0,s.up)("BaseErrorMessage");return(0,s.wg)(),(0,s.iD)("div",n,[r.label?((0,s.wg)(),(0,s.iD)("label",{key:0,for:i.uuid},(0,o.zw)(r.label),9,l)):(0,s.kq)("",!0),(0,s._)("input",(0,s.dG)({class:"field"},e.$attrs,{onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),id:i.uuid,value:r.modelValue,placeholder:r.label,"aria-describedby":r.error?`${i.uuid}-error`:null,"aria-invalid":!!r.error,class:{error:r.error}}),null,16,u),(0,s.Wm)(c,{id:`${i.uuid}-error`},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(r.error),1)])),_:1},8,["id"])])}let a=0;function d(){const e=()=>(a++,a);return{getID:e}}var c={props:{label:{type:String,default:""},error:{type:String,default:""},modelValue:{type:[String,Number],default:""}},setup(){const e=d().getID();return{uuid:e}}},m=r(89);const p=(0,m.Z)(c,[["render",i],["__scopeId","data-v-252fad5b"]]);var b=p},1917:function(e,t,r){var s={"./BaseErrorMessage.vue":4524,"./BaseInput.vue":3211};function o(e){var t=n(e);return r(t)}function n(e){if(!r.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id=1917},6949:function(e,t,r){"use strict";e.exports=r.p+"img/logo.d1e80654.png"}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={id:s,loaded:!1,exports:{}};return e[s](n,n.exports,r),n.loaded=!0,n.exports}r.m=e,function(){var e=[];r.O=function(t,s,o,n){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],n=e[d][2];for(var u=!0,i=0;i<s.length;i++)(!1&n||l>=n)&&Object.keys(r.O).every((function(e){return r.O[e](s[i])}))?s.splice(i--,1):(u=!1,n<l&&(l=n));if(u){e.splice(d--,1);var a=o();void 0!==a&&(t=a)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,o,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){r.p="/"}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,n,l=s[0],u=s[1],i=s[2],a=0;if(l.some((function(t){return 0!==e[t]}))){for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(i)var d=i(r)}for(t&&t(s);a<l.length;a++)n=l[a],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(2497)}));s=r.O(s)})();
//# sourceMappingURL=app.0eb17a2c.js.map