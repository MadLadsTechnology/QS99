(function(){var e={7923:function(e,t,s){"use strict";var r=s(9242),o=s(3396);function n(e,t,s,r,n,i){const u=(0,o.up)("NavigationMenu"),a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(u),(0,o.Wm)(a)],64)}var i=s(6949);const u=e=>((0,o.dD)("data-v-7d5ec7bc"),e=e(),(0,o.Cn)(),e),a={class:"container"},l=u((()=>(0,o._)("img",{alt:"Logo",src:i},null,-1))),d={key:0,class:"nav"},c=u((()=>(0,o._)("h3",null,"Users",-1))),m=u((()=>(0,o._)("h3",null,"Subjects",-1))),h=u((()=>(0,o._)("h3",null,"Subjects",-1))),p=u((()=>(0,o._)("h3",{class:"role"},"Profile",-1)));function b(e,t,s,r,n,i){const u=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(u,{to:"/"},{default:(0,o.w5)((()=>[l])),_:1}),e.loggedIn?((0,o.wg)(),(0,o.iD)("div",d,[this.$store.getters.isAdmin?((0,o.wg)(),(0,o.j4)(u,{key:0,to:{name:"users"}},{default:(0,o.w5)((()=>[c])),_:1})):(0,o.kq)("",!0),this.$store.getters.isAdmin?((0,o.wg)(),(0,o.j4)(u,{key:1,to:{name:"allSubjects"}},{default:(0,o.w5)((()=>[m])),_:1})):((0,o.wg)(),(0,o.j4)(u,{key:2,to:"/subjects"},{default:(0,o.w5)((()=>[h])),_:1})),(0,o.Wm)(u,{class:"profileLink",to:"/Profile"},{default:(0,o.w5)((()=>[p])),_:1}),e.loggedIn?((0,o.wg)(),(0,o.iD)("h3",{key:3,class:"logOutBtn",onClick:t[0]||(t[0]=e=>i.logOut())},"Log out")):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])}var w=s(65);const g={...(0,w.Se)(["loggedIn"])};var j={methods:{async logOut(){confirm("Are you sure you want to log out?")&&(await this.$store.dispatch("logout"),await this.$router.push("/login"))}},computed:{...g}},v=s(89);const y=(0,v.Z)(j,[["render",b],["__scopeId","data-v-7d5ec7bc"]]);var _=y,A=s(6265),f=s.n(A),S={created(){let e="eivindharboe.no";f().defaults.baseURL="http://"+e+":8002";const t=localStorage.getItem("user");if(t){const e=JSON.parse(t);this.$store.commit("SET_USER_DATA",e)}document.title="QS99"},components:{NavigationMenu:_},computed:{}};const k=(0,v.Z)(S,[["render",n]]);var I=k,U=s(678);const x=e=>((0,o.dD)("data-v-e6a4c524"),e=e(),(0,o.Cn)(),e),D={key:0,class:"teacherToolbar"},C={key:1},q={key:0},W=x((()=>(0,o._)("h3",null,"Active queues",-1))),V={class:"cardHolder"},M={key:1},$=x((()=>(0,o._)("h3",null,"Student Assistant subjects",-1))),z={class:"cardHolder"},E={key:2},N=x((()=>(0,o._)("h3",null,"Subjects",-1))),P={class:"cardHolder"},T={key:2};function Z(e,t,s,r,n,i){const u=(0,o.up)("SubjectCard");return(0,o.wg)(),(0,o.iD)(o.HY,null,[this.$store.getters.isProfessor?((0,o.wg)(),(0,o.iD)("div",D,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>this.$router.push("/createSubject"))}," Create new subject ")])):(0,o.kq)("",!0),n.allSubjects.length>0?((0,o.wg)(),(0,o.iD)("div",C,[i.subjects.active.length>0?((0,o.wg)(),(0,o.iD)("div",q,[W,(0,o._)("div",V,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.subjects.active,(e=>((0,o.wg)(),(0,o.j4)(u,{key:parseInt(e.id),subject:e},null,8,["subject"])))),128))])])):(0,o.kq)("",!0),i.subjects.inStudAss.length>0?((0,o.wg)(),(0,o.iD)("div",M,[$,(0,o._)("div",z,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.subjects.inStudAss,(e=>((0,o.wg)(),(0,o.j4)(u,{key:parseInt(e.id),subject:e},null,8,["subject"])))),128))])])):(0,o.kq)("",!0),i.subjects.inActive.length>0?((0,o.wg)(),(0,o.iD)("div",E,[N,(0,o._)("div",P,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.subjects.inActive,(e=>((0,o.wg)(),(0,o.j4)(u,{key:parseInt(e.id),subject:e},null,8,["subject"])))),128))])])):(0,o.kq)("",!0)])):((0,o.wg)(),(0,o.iD)("h2",T," You have no subjects registered "))],64)}var H=s(7139);const O=e=>((0,o.dD)("data-v-63290a8a"),e=e(),(0,o.Cn)(),e),Q={class:"card","data-test":"Test"},Y={"data-test":"Test1"},B=O((()=>(0,o._)("br",null,null,-1)));function R(e,t,s,r,n,i){const u=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(u,{to:{name:i.link,params:{id:s.subject.id}}},{default:(0,o.w5)((()=>[(0,o._)("div",Q,[(0,o._)("h1",Y,(0,H.zw)(s.subject.subjectCode),1),(0,o.Uk)(" "+(0,H.zw)(s.subject.subjectName)+" ",1),B])])),_:1},8,["to"])}var L={props:{subject:{type:Object,required:!0}},computed:{link:function(){return this.subject.queueActive?"SubjectQueue":this.subject.isStudAss?"subjectUsers":"StudentSubjectAssignments"}}};const F=(0,v.Z)(L,[["render",R],["__scopeId","data-v-63290a8a"]]);var K=F,G={name:"HomeView",components:{SubjectCard:K},async created(){document.title="QS99 - Subjects",await f().get("/subject/getByUser").then((e=>{this.allSubjects=e.data}))},data(){return{allSubjects:[]}},computed:{...g,subjects:function(){const e=[],t=[],s=[];for(let r=0;r<this.allSubjects.length;r++)!0===this.allSubjects[r].isStudAss?s.push(this.allSubjects[r]):!0===this.allSubjects[r].queueActive&&!1===this.allSubjects[r].isStudAss?e.push(this.allSubjects[r]):t.push(this.allSubjects[r]);return{active:e,inActive:t,inStudAss:s}}}};const J=(0,v.Z)(G,[["render",Z],["__scopeId","data-v-e6a4c524"]]);var X=J;const ee=e=>((0,o.dD)("data-v-286d02c1"),e=e(),(0,o.Cn)(),e),te={key:0,class:"container"},se={key:1},re={key:0},oe={class:"nav"},ne=ee((()=>(0,o._)("div",null,"Queue",-1))),ie=ee((()=>(0,o._)("div",null,"About",-1))),ue=ee((()=>(0,o._)("div",null,"Users",-1))),ae=ee((()=>(0,o._)("div",null,"Assignments",-1))),le=ee((()=>(0,o._)("div",null,"Assignments",-1)));function de(e,t,s,r,n,i){const u=(0,o.up)("ProfessorActions"),a=(0,o.up)("router-link"),l=(0,o.up)("router-view");return n.subject?((0,o.wg)(),(0,o.iD)("div",te,[this.$store.getters.isStudent?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(u,{key:0,subject:n.subject},null,8,["subject"])),n.subject?((0,o.wg)(),(0,o.iD)("div",se,[(0,o._)("h1",null,(0,H.zw)(n.subject.subjectCode),1),n.subject.isStudAss?((0,o.wg)(),(0,o.iD)("h4",re," You are a student assistant in this subject ")):(0,o.kq)("",!0),(0,o._)("div",oe,[(0,o.Wm)(a,{to:{name:"SubjectQueue"}},{default:(0,o.w5)((()=>[ne])),_:1}),(0,o.Wm)(a,{to:{name:"SubjectDetails"}},{default:(0,o.w5)((()=>[ie])),_:1}),!this.$store.getters.isStudent||n.subject.isStudAss?((0,o.wg)(),(0,o.j4)(a,{key:0,to:{name:"subjectUsers"}},{default:(0,o.w5)((()=>[ue])),_:1})):((0,o.wg)(),(0,o.j4)(a,{key:1,to:{name:"StudentSubjectAssignments"}},{default:(0,o.w5)((()=>[ae])),_:1})),!this.$store.getters.isStudent||n.subject.isStudAss?((0,o.wg)(),(0,o.j4)(a,{key:2,to:{name:"assignments"}},{default:(0,o.w5)((()=>[le])),_:1})):(0,o.kq)("",!0)]),(0,o.Wm)(l,{subject:n.subject,class:"router-view"},null,8,["subject"])])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)}const ce={class:"button-group"};function me(e,t,s,r,n,i){const u=(0,o.up)("AddExercises"),a=(0,o.up)("AddUserToSubject"),l=(0,o.up)("AddMultipleUsersToSubject"),d=(0,o.up)("AddAssistantToSubject");return(0,o.wg)(),(0,o.iD)(o.HY,null,[n.showAddExercises?((0,o.wg)(),(0,o.j4)(u,{key:0,"data-test":"AddExercisesObject",subject:n.currentSubject,onCloseWindow:i.closeWindow},null,8,["subject","onCloseWindow"])):(0,o.kq)("",!0),n.showAddSingleUser?((0,o.wg)(),(0,o.j4)(a,{key:1,"data-test":"AddUserObject",subject:n.currentSubject,onCloseWindow:i.closeWindow},null,8,["subject","onCloseWindow"])):(0,o.kq)("",!0),n.showAddMultipleUsers?((0,o.wg)(),(0,o.j4)(l,{key:2,"data-test":"AddMultipleUsersObject",subject:n.currentSubject,onCloseWindowMultipleUsers:i.closeWindow},null,8,["subject","onCloseWindowMultipleUsers"])):(0,o.kq)("",!0),n.showAddAssistant?((0,o.wg)(),(0,o.j4)(d,{key:3,"data-test":"AdStudassObject",subject:n.currentSubject,onCloseWindow:i.closeWindow},null,8,["subject","onCloseWindow"])):(0,o.kq)("",!0),(0,o._)("div",ce,[(0,o._)("button",{"data-test":"AddUser",onClick:t[0]||(t[0]=e=>i.showSingleUserWindow(s.subject.id,s.subject.subjectCode))}," Add user "),(0,o._)("button",{"data-test":"AddMultipleUser",onClick:t[1]||(t[1]=e=>i.showMultipleUserWindow(s.subject.id,s.subject.subjectCode))}," Add multiple users "),(0,o._)("button",{"data-test":"AddExercises",onClick:t[2]||(t[2]=e=>i.showAddExercisesWindow(s.subject.id,s.subject.subjectCode))}," Add exercises "),(0,o._)("button",{"data-test":"AddStudass",onClick:t[3]||(t[3]=e=>i.showSingleAssistantWindow(s.subject.id,s.subject.subjectCode))}," Add student assistant ")])],64)}const he=e=>((0,o.dD)("data-v-3f0c8630"),e=e(),(0,o.Cn)(),e),pe={class:"window"},be=he((()=>(0,o._)("h5",null,"Note: Must be an existing student or professor",-1))),we=["disabled"];function ge(e,t,s,n,i,u){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",pe,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>u.closeWindow())},"Close"),(0,o._)("form",{class:"loginForm",onSubmit:t[2]||(t[2]=(0,r.iM)((e=>u.submit()),["prevent"]))},[(0,o._)("h3",null,"Add user to "+(0,H.zw)(s.subject.code),1),be,(0,o.Wm)(a,{modelValue:n.email,"onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e),modelModifiers:{lazy:!0},error:n.errors.email,label:"Email",type:"email"},null,8,["modelValue","error"]),(0,o._)("button",{disabled:!u.isValid,type:"submit"},"Submit",8,we)],32)])}var je=s(5708),ve=s(6542);const ye={class:"container"},_e=["for"],Ae=["id","aria-describedby","aria-invalid","placeholder","value"];function fe(e,t,s,r,n,i){const u=(0,o.up)("BaseErrorMessage");return(0,o.wg)(),(0,o.iD)("div",ye,[s.label?((0,o.wg)(),(0,o.iD)("label",{key:0,for:r.uuid},(0,H.zw)(s.label),9,_e)):(0,o.kq)("",!0),(0,o._)("input",(0,o.dG)({id:r.uuid,"aria-describedby":s.error?`${r.uuid}-error`:null,"aria-invalid":!!s.error,class:[{error:s.error},"field"],placeholder:s.label,value:s.modelValue,"data-testid":"baseInputField"},e.$attrs,{onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))}),null,16,Ae),(0,o.Wm)(u,{id:`${r.uuid}-error`},{default:(0,o.w5)((()=>[(0,o.Uk)((0,H.zw)(s.error),1)])),_:1},8,["id"])])}let Se=0;function ke(){const e=()=>(Se++,Se);return{getID:e}}const Ie=["id"];function Ue(e,t,s,r,n,i){return(0,o.wg)(),(0,o.iD)("p",{id:s.id,"aria-live":"assertive",class:"errorMessage"},[(0,o.WI)(e.$slots,"default",{},void 0,!0)],8,Ie)}var xe={props:{id:{type:[String,Number],required:!0}}};const De=(0,v.Z)(xe,[["render",Ue],["__scopeId","data-v-37bdfe06"]]);var Ce=De,qe={components:{BaseErrorMessage:Ce},props:{label:{type:String,default:""},error:{type:String,default:""},modelValue:{type:[String,Number],default:""}},setup(){const e=ke().getID();return{uuid:e}}};const We=(0,v.Z)(qe,[["render",fe],["__scopeId","data-v-b8a27154"]]);var Ve=We,Me={props:{subject:{type:Object,required:!0}},components:{BaseInput:Ve},data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){f().post("/subject/addUser",null,{params:{subjectId:this.subject.id,email:this.email}}).then((()=>{this.closeWindow()})).catch((e=>{alert(e)}))},closeWindow(){this.$emit("closeWindow")}},setup(){const e=(0,ve.Ry)({email:(0,ve.Z_)().email("Invalid email format").required()}),{errors:t}=(0,je.cI)({validationSchema:e}),{value:s}=(0,je.U$)("email");return{email:s,errors:t}},computed:{isValid(){return!this.errors.email&&this.email}}};const $e=(0,v.Z)(Me,[["render",ge],["__scopeId","data-v-3f0c8630"]]);var ze=$e;const Ee=e=>((0,o.dD)("data-v-0978e6e7"),e=e(),(0,o.Cn)(),e),Ne={class:"background"},Pe={class:"window"},Te=Ee((()=>(0,o._)("h5",null,'Send a list on the form "lastname firstname email" separated by new lines',-1))),Ze=Ee((()=>(0,o._)("h5",null,"Existing users will be added, if the user doesnt exist it will be created as a student and added.",-1))),He=Ee((()=>(0,o._)("br",null,null,-1))),Oe=["disabled"];function Qe(e,t,s,n,i,u){return(0,o.wg)(),(0,o.iD)("div",Ne,[(0,o._)("div",Pe,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>u.closeWindow())},"Close"),(0,o._)("h3",null,"Add multiple users to "+(0,H.zw)(s.subject.code),1),Te,Ze,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.users=e),placeholder:"Paste emails separated by new lines"},"\n      ",512),[[r.nr,i.users]]),He,(0,o._)("button",{disabled:null==i.users,onClick:t[2]||(t[2]=(...e)=>u.submit&&u.submit(...e))},"Submit",8,Oe)])])}var Ye={props:{subject:{type:Object,required:!0}},data(){return{error:null,users:""}},created(){document.title="QS99 - Login"},methods:{submit(){f().post("/subject/addUsers",{data:this.users},{params:{subjectId:this.subject.id}}).then((()=>{this.closeWindow()})).catch((e=>{alert(e)}))},closeWindow(){this.$emit("closeWindowMultipleUsers")}},computed:{}};const Be=(0,v.Z)(Ye,[["render",Qe],["__scopeId","data-v-0978e6e7"]]);var Re=Be;const Le={class:"window"},Fe=["disabled"];function Ke(e,t,s,n,i,u){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",Le,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>u.closeWindow())},"Close"),(0,o._)("form",{class:"loginForm",onSubmit:t[3]||(t[3]=(0,r.iM)((e=>u.submit()),["prevent"]))},[(0,o._)("h3",null,"Add exercises to "+(0,H.zw)(s.subject.code),1),(0,o.Wm)(a,{modelValue:n.count,"onUpdate:modelValue":t[1]||(t[1]=e=>n.count=e),modelModifiers:{lazy:!0},error:n.errors.count,label:"Number of exercises",type:"number"},null,8,["modelValue","error"]),(0,o.Wm)(a,{modelValue:n.mandatory,"onUpdate:modelValue":t[2]||(t[2]=e=>n.mandatory=e),modelModifiers:{lazy:!0},error:n.errors.mandatory,label:"Number of mandatory",type:"number"},null,8,["modelValue","error"]),(0,o._)("button",{disabled:!u.isValid,type:"submit"},"Submit",8,Fe)],32)])}var Ge={props:{subject:{type:Object,required:!0}},components:{BaseInput:Ve},data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){f().post("/exercise",null,{params:{subjectId:this.subject.id,numberOfExercises:this.count,numberOfMandatory:this.mandatory}}).then((()=>{this.closeWindow()})).catch((e=>{alert(e)}))},closeWindow(){this.$emit("closeWindow")}},setup(){const e=(0,ve.Ry)({count:(0,ve.Rx)().min(1).required(),mandatory:(0,ve.Rx)().min(1).required()}),{errors:t}=(0,je.cI)({validationSchema:e}),{value:s}=(0,je.U$)("count"),{value:r}=(0,je.U$)("mandatory");return{count:s,mandatory:r,errors:t}},computed:{isValid(){return!this.errors.count&&!this.errors.mandatory&&(this.count&&this.mandatory)}}};const Je=(0,v.Z)(Ge,[["render",Ke],["__scopeId","data-v-3eca20c1"]]);var Xe=Je;const et={class:"window"},tt=["disabled"];function st(e,t,s,n,i,u){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",et,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>u.closeWindow())},"Close"),(0,o._)("form",{class:"loginForm",onSubmit:t[2]||(t[2]=(0,r.iM)((e=>u.submit()),["prevent"]))},[(0,o._)("h3",null,"Add student assistant to "+(0,H.zw)(s.subject.code),1),(0,o.Wm)(a,{modelValue:n.email,"onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e),modelModifiers:{lazy:!0},error:n.errors.email,label:"Email",type:"email"},null,8,["modelValue","error"]),(0,o._)("button",{disabled:!u.isValid,type:"submit"},"Submit",8,tt)],32)])}var rt={props:{subject:{type:Object,required:!0}},components:{BaseInput:Ve},data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){f().post("/subject/addStudentAssistant",null,{params:{subjectId:this.subject.id,email:this.email}}).then((()=>{this.closeWindow()})).catch((e=>{alert(e)}))},closeWindow(){this.$emit("closeWindow")}},setup(){const e=(0,ve.Ry)({email:(0,ve.Z_)().email("Invalid email format").required()}),{errors:t}=(0,je.cI)({validationSchema:e}),{value:s}=(0,je.U$)("email");return{email:s,errors:t}},computed:{isValid(){return!this.errors.email&&this.email}}};const ot=(0,v.Z)(rt,[["render",st],["__scopeId","data-v-90071176"]]);var nt=ot,it={components:{AddUserToSubject:ze,AddMultipleUsersToSubject:Re,AddExercises:Xe,AddAssistantToSubject:nt},props:{subject:{type:Object,required:!0}},methods:{setCurrentSubject(e,t){this.currentSubject={code:t,id:e}},showSingleUserWindow(e,t){this.setCurrentSubject(e,t),this.showAddSingleUser=!0,this.showAddMultipleUsers=!1,this.showAddAssistant=!1,this.showAddExercises=!1},showMultipleUserWindow(e,t){this.setCurrentSubject(e,t),this.showAddSingleUser=!1,this.showAddAssistant=!1,this.showAddMultipleUsers=!0,this.showAddExercises=!1},showAddExercisesWindow(e,t){this.setCurrentSubject(e,t),this.showAddSingleUser=!1,this.showAddMultipleUsers=!1,this.showAddExercises=!0,this.showAddAssistant=!1},showSingleAssistantWindow(e,t){this.setCurrentSubject(e,t),this.showAddAssistant=!0,this.showAddSingleUser=!1,this.showAddMultipleUsers=!1,this.showAddExercises=!1},closeWindow(){this.showAddSingleUser=!1,this.showAddMultipleUsers=!1,this.showAddAssistant=!1,this.showAddExercises=!1,location.reload()},async removeUser(e){await f()["delete"]("/deleteUserFromSubject",{params:{subjectId:this.subject.id,emailAddress:e.emailAddress}}).then((e=>{e&&location.reload()}))},async removeExercise(e){await f()["delete"]("/exercise",{params:{subjectId:this.id,exerciseNumber:e.exerciseNumber}}).then((()=>{location.reload()}))}},data(){return{users:[],subjects:null,showAddSingleUser:!1,showAddMultipleUsers:!1,showAddExercises:!1,showAddAssistant:!1,currentSubject:null,assignments:[]}}};const ut=(0,v.Z)(it,[["render",me],["__scopeId","data-v-c1118a0e"]]);var at=ut,lt={components:{ProfessorActions:at},props:["id"],data(){return{subject:null}},async created(){await f().get("/subject/getSubject",{params:{subjectId:parseInt(this.id)}}).then((e=>{this.subject=e.data})).catch((e=>{alert(e)})),document.title="QS99 - "+this.subject.subjectCode}};const dt=(0,v.Z)(lt,[["render",de],["__scopeId","data-v-286d02c1"]]);var ct=dt;const mt={class:"container"};function ht(e,t,s,r,n,i){return(0,o.wg)(),(0,o.iD)("div",mt,[(0,o._)("h1",null,(0,H.zw)(s.subject.subjectName),1),(0,o._)("h3",null,(0,H.zw)(s.subject.subjectDescription),1)])}var pt={props:["subject"]};const bt=(0,v.Z)(pt,[["render",ht],["__scopeId","data-v-6453d4ae"]]);var wt=bt;const gt=e=>((0,o.dD)("data-v-6910af5a"),e=e(),(0,o.Cn)(),e),jt={key:0},vt={key:0},yt={key:1},_t={key:3},At=gt((()=>(0,o._)("tr",null,[(0,o._)("th",null,"#"),(0,o._)("th",{colspan:"2"},"User"),(0,o._)("th",null,"Task(s)"),(0,o._)("th",null,"Type"),(0,o._)("th",null,"Room")],-1))),ft={key:0},St=["onClick"],kt={key:1},It={key:4},Ut={key:0},xt={key:1};function Dt(e,t,s,r,n,i){return s.subject?((0,o.wg)(),(0,o.iD)("div",jt,[this.$store.getters.isStudent&&!s.subject.isStudAss&&!n.inQueue&&s.subject.queueActive?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>this.$router.push("JoinQueue"))}," Join queue ")):(0,o.kq)("",!0),this.$store.getters.isStudent&&!s.subject.isStudAss&&n.inQueue&&s.subject.queueActive?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:t[1]||(t[1]=e=>i.leaveQueue())}," Leave queue ")):(0,o.kq)("",!0),!this.$store.getters.isStudent||s.subject.isStudAss?((0,o.wg)(),(0,o.iD)("button",{key:2,onClick:t[2]||(t[2]=(...e)=>i.toggleQueue&&i.toggleQueue(...e))},[s.subject.queueActive?((0,o.wg)(),(0,o.iD)("text",vt," Deactivate queue ")):((0,o.wg)(),(0,o.iD)("text",yt," Activate queue "))])):(0,o.kq)("",!0),n.queue&&n.queue.length>0&&s.subject.queueActive?((0,o.wg)(),(0,o.iD)("table",_t,[At,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.queue,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:e.lastname,class:(0,H.C_)(i.getClass(e))},[(0,o._)("td",null,(0,H.zw)(t+1),1),(0,o._)("td",null,(0,H.zw)(e.lastName),1),(0,o._)("td",null,(0,H.zw)(e.firstName),1),(0,o._)("td",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.exercises,(e=>((0,o.wg)(),(0,o.iD)("text",{key:e},(0,H.zw)(e)+", ",1)))),128))]),s.subject.isStudAss||!this.$store.getters.isStudent?((0,o.wg)(),(0,o.iD)("td",ft,[(0,o._)("button",{onClick:t=>i.helpAndApprove(e)},(0,H.zw)(e.type),9,St)])):((0,o.wg)(),(0,o.iD)("td",kt,(0,H.zw)(e.type),1)),(0,o._)("td",null,(0,H.zw)(e.tableNumber),1)],2)))),128))])):((0,o.wg)(),(0,o.iD)("div",It,[this.subject.queueActive?((0,o.wg)(),(0,o.iD)("h3",Ut," Queue is empty ")):((0,o.wg)(),(0,o.iD)("h3",xt," Queue is not active "))]))])):(0,o.kq)("",!0)}var Ct={props:["subject"],async created(){await f().get("/queue",{params:{subjectId:this.subject.id}}).then((e=>{this.queue=e.data,this.queue.some((e=>{e.studentId===this.$store.state.user.emailAddress&&(this.inQueue=!0)}))}))},methods:{leaveQueue(){this.queue.forEach((e=>{e.studentId===this.$store.state.user.emailAddress?f()["delete"]("/entry",{params:{entryId:e.entryId}}).then((()=>{location.reload()})).catch((e=>{alert(e)})):console.log(e.studentId+"   "+this.$store.state.user.emailAddress)}))},toggleQueue(){let e=!0;this.subject.queueActive&&(e=!1),f().post("/queue/setQueueStatus",null,{params:{isActive:e,subjectId:this.subject.id}}).then((()=>{location.reload()})).catch((e=>{alert(e)}))},helpAndApprove(e){f().post("/entry/setIsGettingHelp",null,{params:{entryId:e.entryId,isGettingHelp:!0}}),this.$router.push({name:"helpAndApprove",params:{studentId:e.studentId,subjectId:this.subject.id,entryId:e.entryId}})},getClass(e){return 1==e.gettingHelp?"gettingHelp":e.studentId===this.$store.state.user.emailAddress?"thisUser":""}},computed:{},data(){return{queue:null,inQueue:!1}}};const qt=(0,v.Z)(Ct,[["render",Dt],["__scopeId","data-v-6910af5a"]]);var Wt=qt;const Vt={key:0},Mt={key:1},$t={colspan:"2"},zt={key:0},Et={key:1};function Nt(e,t,s,r,n,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[i.subjectApproved?((0,o.wg)(),(0,o.iD)("h1",Vt,"The subject is passed")):((0,o.wg)(),(0,o.iD)("h1",Mt,"Not passed")),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.assignments,((e,t)=>((0,o.wg)(),(0,o.iD)("table",{key:parseInt(t)},[(0,o._)("tr",null,[(0,o._)("td",$t,"Mandatory: "+(0,H.zw)(e.numberOfMandatory),1)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.exercises,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:parseInt(t)},[(0,o._)("td",null,(0,H.zw)(t),1),e?((0,o.wg)(),(0,o.iD)("td",zt,"✅")):((0,o.wg)(),(0,o.iD)("td",Et,"⛔️"))])))),128))])))),128))],64)}var Pt={name:"AssignementView",props:["subject"],components:{},methods:{},async created(){document.title="QS99 - Subjects",this.hasPrivileges&&await f().get("/user/getAllUsersFromSubject",{params:{subjectId:parseInt(this.subject.id)}}).then((e=>{this.students=e.data})),await f().get("/exercise/getByUser",{params:{subjectId:parseInt(this.subject.id)}}).then((e=>{e.data.length>0&&(this.assignments=e.data)}))},data(){return{assignments:null,students:null}},computed:{hasPrivileges:function(){return!!(this.subject.isStudAss||this.$store.getters.isProfessor||this.$store.getters.isAdmin)},subjectApproved:function(){let e=!0;return this.assignments&&this.assignments.forEach((t=>{let s=0;for(let e in t.exercises)t.exercises[e]&&(s+=1);s<t.numberOfMandatory&&(e=!1)})),e}}};const Tt=(0,v.Z)(Pt,[["render",Nt],["__scopeId","data-v-60d1f105"]]);var Zt=Tt;function Ht(e,t,s,r,n,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("h3",null,"Number of exercises: "+(0,H.zw)(i.exerciseCount),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.assignments,(e=>((0,o.wg)(),(0,o.iD)("h5",{key:parseInt(e.id)},(0,H.zw)(e.numberOfMandatory)+" exercises are mandatory in "+(0,H.zw)(e.exercises[0])+" ... "+(0,H.zw)(e.exercises[e.exercises.length-1]),1)))),128))],64)}var Ot={name:"AssignementView",props:["subject"],components:{},methods:{},async created(){document.title="QS99 - Subjects",this.hasPrivileges&&await f().get("/user/getAllUsersFromSubject",{params:{subjectId:parseInt(this.subject.id)}}).then((e=>{this.students=e.data})),await f().get("/exercise/getBySubject",{params:{subjectId:parseInt(this.subject.id)}}).then((e=>{e.data.length>0&&(this.assignments=e.data)}))},data(){return{assignments:null,students:null}},computed:{hasPrivileges:function(){return!!(this.subject.isStudAss||this.$store.getters.isProfessor||this.$store.getters.isAdmin)},exerciseCount:function(){let e=0;return this.assignments?(this.assignments.forEach((t=>{e+=t.exercises.length})),e):null}}};const Qt=(0,v.Z)(Ot,[["render",Ht],["__scopeId","data-v-304d519f"]]);var Yt=Qt;const Bt={class:"information"},Rt=["onClick"],Lt={class:"exerciseWrapper"};function Ft(e,t,s,r,n,i){const u=(0,o.up)("ExerciseBox");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.users,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.emailAddress,class:"user"},[(0,o._)("div",Bt,[(0,o._)("h4",null,(0,H.zw)(e.role),1),(0,o._)("text",null,(0,H.zw)(e.lastName),1),(0,o._)("text",null,(0,H.zw)(e.firstName),1),s.subject.isStudAss?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t=>i.removeUser(e)},"Remove",8,Rt))]),(0,o._)("div",Lt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.exercises,(t=>((0,o.wg)(),(0,o.j4)(u,{key:t,exercise:t,student:e,subjectId:s.subject.id},null,8,["exercise","student","subjectId"])))),128))])])))),128)}const Kt={key:0,"data-test":"product"};function Gt(e,t,s,r,n,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",{"data-test":"div",class:(0,H.C_)([i.getClass(s.exercise.approved),"box"]),onClick:t[0]||(t[0]=(...e)=>i.toggleApprove&&i.toggleApprove(...e))},(0,H.zw)(this.exercise.exerciseNumber),3),this.exercise.approved?((0,o.wg)(),(0,o.iD)("div",Kt)):(0,o.kq)("",!0)],64)}var Jt={props:{subjectId:{required:!0,type:Number},exercise:{type:Object,required:!0},student:{required:!0}},methods:{toggleApprove(){let e="Are you sure you want to approve exercise "+this.exercise.exerciseNumber+" for "+this.student.firstName+"?";this.exercise.approved&&(e="Are you sure you remove the approval of exercise "+this.exercise.exerciseNumber+" for "+this.student.firstName+"?"),confirm(e)&&f().post("/exercise/approveExercise",null,{params:{subjectId:this.subjectId,exerciseNumber:this.exercise.exerciseNumber,studentEmail:this.student.emailAddress,isApproved:!this.exercise.approved}}).then(location.reload())},getClass(e){return 1==e?"approved":""}}};const Xt=(0,v.Z)(Jt,[["render",Gt],["__scopeId","data-v-7ddb6c3d"]]);var es=Xt,ts={name:"SubjectUsersView",props:["subject"],components:{ExerciseBox:es},data(){return{users:[]}},methods:{async removeUser(e){confirm("Are you sure you want to remove "+e.emailAddress+" from subject "+this.subject.subjectCode)&&await f()["delete"]("/subject/deleteUserFromSubject",{params:{subjectId:this.subject.id,emailAddress:e.emailAddress}}).then((e=>{e&&location.reload()}))},async removeExercise(e){await f()["delete"]("/exercise",{params:{subjectId:this.subject.id,exerciseNumber:e.exerciseNumber}}).then((()=>{location.reload()}))}},async created(){await f().get("/user/getAllUsersFromSubject",{params:{subjectId:parseInt(this.subject.id)}}).then((e=>{this.users=e.data,console.table(this.users)}))}};const ss=(0,v.Z)(ts,[["render",Ft],["__scopeId","data-v-b749570c"]]);var rs=ss;const os=e=>((0,o.dD)("data-v-60924f68"),e=e(),(0,o.Cn)(),e),ns=os((()=>(0,o._)("h1",null,"Get in the queue!",-1))),is={class:"checkBoxHolder"},us=["id","disabled","value"],as=["for"],ls=os((()=>(0,o._)("label",{for:"one"},"Help",-1))),ds=os((()=>(0,o._)("br",null,null,-1))),cs=os((()=>(0,o._)("label",{for:"two"},"Approval",-1))),ms=os((()=>(0,o._)("br",null,null,-1))),hs=["disabled"],ps={key:0};function bs(e,t,s,n,i,u){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",null,[i.assignments?((0,o.wg)(),(0,o.iD)("form",{key:0,class:"form",onSubmit:t[6]||(t[6]=(0,r.iM)((e=>u.submit()),["prevent"]))},[ns,(0,o.Wm)(a,{modelValue:n.room,"onUpdate:modelValue":t[0]||(t[0]=e=>n.room=e),modelModifiers:{lazy:!0},error:n.errors.room,label:"Room",type:"text"},null,8,["modelValue","error"]),(0,o.Wm)(a,{modelValue:n.building,"onUpdate:modelValue":t[1]||(t[1]=e=>n.building=e),modelModifiers:{lazy:!0},error:n.errors.building,label:"Building",type:"text"},null,8,["modelValue","error"]),(0,o.Wm)(a,{modelValue:n.tableNumber,"onUpdate:modelValue":t[2]||(t[2]=e=>n.tableNumber=e),modelModifiers:{lazy:!0},error:n.errors.tableNumber,label:"Table number",type:"number"},null,8,["modelValue","error"]),(0,o._)("div",is,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.assignments,((e,s)=>((0,o.wg)(),(0,o.iD)("div",{key:s},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.exercises,((e,s)=>((0,o.wg)(),(0,o.iD)("div",{key:parseInt(s)},[(0,o.wy)((0,o._)("input",{id:s,"onUpdate:modelValue":t[3]||(t[3]=e=>i.exercises=e),disabled:e,value:parseInt(s),type:"checkbox"},null,8,us),[[r.e8,i.exercises]]),(0,o._)("label",{for:s},(0,H.zw)(s),9,as)])))),128))])))),128))]),(0,o.wy)((0,o._)("input",{id:"one","onUpdate:modelValue":t[4]||(t[4]=e=>i.helpType=e),checked:"checked",type:"radio",value:"help"},null,512),[[r.G2,i.helpType]]),ls,ds,(0,o.wy)((0,o._)("input",{id:"two","onUpdate:modelValue":t[5]||(t[5]=e=>i.helpType=e),type:"radio",value:"approval"},null,512),[[r.G2,i.helpType]]),cs,ms,(0,o._)("button",{disabled:!u.isValid,type:"submit"},"Submit",8,hs),i.error?((0,o.wg)(),(0,o.iD)("p",ps,(0,H.zw)(i.error),1)):(0,o.kq)("",!0)],32)):(0,o.kq)("",!0)])}var ws={props:["subject"],components:{BaseInput:Ve},data(){return{error:null,helpType:"help",assignments:null,exercises:[]}},created(){f().get("/exercise/getByUser",{params:{subjectId:parseInt(this.subject.id)}}).then((e=>{this.assignments=e.data})).catch((e=>{console.log(e)})),document.title="QS99 - Join queue"},methods:{submit(){console.log(this.exercises),f().post("/queue/addEntry",{exercises:this.exercises},{params:{room:this.room,building:this.building,tableNumber:this.tableNumber,type:this.helpType,subjectId:this.subject.id}}).then((()=>{this.$router.push("/subjects/"+this.subject.id+"/queue"),console.log(this.exercises)})).catch((e=>{console.log(e)}))}},setup(){const e=(0,ve.Ry)({room:(0,ve.Z_)().required(),building:(0,ve.Z_)().required(),tableNumber:(0,ve.Rx)().required()}),{errors:t}=(0,je.cI)({validationSchema:e}),{value:s}=(0,je.U$)("room"),{value:r}=(0,je.U$)("building"),{value:o}=(0,je.U$)("tableNumber");return{room:s,building:r,tableNumber:o,errors:t}},computed:{isValid(){return!(this.errors.room||this.errors.building||this.errors.tableNumber)&&(this.room&&this.building&&this.tableNumber)}}};const gs=(0,v.Z)(ws,[["render",bs],["__scopeId","data-v-60924f68"]]);var js=gs;const vs=e=>((0,o.dD)("data-v-65ad7a9a"),e=e(),(0,o.Cn)(),e),ys=vs((()=>(0,o._)("h1",null,"Register a new user",-1))),_s={class:"nameInputs"},As={key:0,class:"radioButtons"},fs=vs((()=>(0,o._)("label",{for:"professor"},"Professor",-1))),Ss=vs((()=>(0,o._)("label",{for:"student"},"Student",-1))),ks=["disabled"],Is={key:1};function Us(e,t,s,n,i,u){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("form",{class:"loginForm",onSubmit:t[5]||(t[5]=(0,r.iM)((e=>u.submit()),["prevent"]))},[ys,(0,o._)("div",_s,[(0,o.Wm)(a,{modelValue:n.firstname,"onUpdate:modelValue":t[0]||(t[0]=e=>n.firstname=e),modelModifiers:{lazy:!0},error:n.errors.firstname,label:"First name",type:"text"},null,8,["modelValue","error"]),(0,o.Wm)(a,{modelValue:n.lastname,"onUpdate:modelValue":t[1]||(t[1]=e=>n.lastname=e),modelModifiers:{lazy:!0},error:n.errors.lastname,label:"Last name",type:"lastname"},null,8,["modelValue","error"])]),(0,o.Wm)(a,{modelValue:n.email,"onUpdate:modelValue":t[2]||(t[2]=e=>n.email=e),modelModifiers:{lazy:!0},error:n.errors.email,label:"Email",type:"email"},null,8,["modelValue","error"]),this.$store.getters.isAdmin?((0,o.wg)(),(0,o.iD)("div",As,[(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{id:"professor","onUpdate:modelValue":t[3]||(t[3]=e=>this.userType=e),type:"radio",value:"Professor"},null,512),[[r.G2,this.userType]]),fs]),(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{id:"student","onUpdate:modelValue":t[4]||(t[4]=e=>this.userType=e),checked:"",type:"radio",value:"Student"},null,512),[[r.G2,this.userType]]),Ss])])):(0,o.kq)("",!0),(0,o._)("button",{disabled:!u.isValid,type:"submit"},"Submit",8,ks),i.error?((0,o.wg)(),(0,o.iD)("p",Is,(0,H.zw)(i.error),1)):(0,o.kq)("",!0)],32)])}var xs={components:{BaseInput:Ve},data(){return{error:null,userType:""}},created(){document.title="QS99 - Login"},methods:{submit(){let e="/user/registerStudent";console.log(this.userType),"Professor"===this.userType&&(e="/user/registerProfessor"),f().post(e,null,{params:{lastname:this.lastname,firstname:this.firstname,email:this.email}}).then((()=>{this.$router.push("/admin/users")})).catch((e=>{console.log(e),alert("User already exists")}))}},setup(){const e=(0,ve.Ry)({lastname:(0,ve.Z_)().required(),firstname:(0,ve.Z_)().required(),email:(0,ve.Z_)().email("Invalid email format").required()}),{errors:t}=(0,je.cI)({validationSchema:e}),{value:s}=(0,je.U$)("lastname"),{value:r}=(0,je.U$)("firstname"),{value:o}=(0,je.U$)("email");return{lastname:s,firstname:r,email:o,errors:t}},computed:{isValid(){return!(this.errors.email||this.errors.lastname||this.errors.firstname)&&(this.email&&this.lastname&&this.firstname)}}};const Ds=(0,v.Z)(xs,[["render",Us],["__scopeId","data-v-65ad7a9a"]]);var Cs=Ds;const qs=e=>((0,o.dD)("data-v-2048ba5a"),e=e(),(0,o.Cn)(),e),Ws=qs((()=>(0,o._)("h1",null,"Log in",-1))),Vs=["disabled"];function Ms(e,t,s,n,i,u){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("form",{class:"loginForm",onSubmit:t[2]||(t[2]=(0,r.iM)((e=>u.submit()),["prevent"]))},[Ws,(0,o.Wm)(a,{modelValue:n.email,"onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),modelModifiers:{lazy:!0},error:n.errors.email,label:"Email",type:"email"},null,8,["modelValue","error"]),(0,o.Wm)(a,{modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),error:n.errors.password,label:"Password",type:"password"},null,8,["modelValue","error"]),(0,o._)("button",{"data-test":"button",disabled:!u.isValid,class:"button",type:"submit"},"Log in",8,Vs)],32)}var $s={components:{BaseInput:Ve},data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{async submit(){await this.$store.dispatch("login",{email:this.email,password:this.password}).then((()=>{this.$router.push("/subjects")})).catch((e=>{alert(e)}))}},setup(){const e=(0,ve.Ry)({email:(0,ve.Z_)().email("Invalid email format").required(),password:(0,ve.Z_)().required()}),{errors:t}=(0,je.cI)({validationSchema:e}),{value:s}=(0,je.U$)("email"),{value:r}=(0,je.U$)("password");return{email:s,password:r,errors:t}},computed:{isValid(){return!this.errors.email&&!this.errors.password&&(this.email&&this.password)}}};const zs=(0,v.Z)($s,[["render",Ms],["__scopeId","data-v-2048ba5a"]]);var Es=zs;const Ns=e=>((0,o.dD)("data-v-9d20ae1c"),e=e(),(0,o.Cn)(),e),Ps=Ns((()=>(0,o._)("h3",null,"Change your password",-1))),Ts={class:"passwordInputs"},Zs=["disabled"];function Hs(e,t,s,n,i,u){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("h1",null,"Hello "+(0,H.zw)(i.user.firstName)+" "+(0,H.zw)(i.user.lastName),1),(0,o._)("h3",null,"You are registered as a "+(0,H.zw)(i.user.role),1),(0,o._)("h3",null,"Your mail is: "+(0,H.zw)(i.user.emailAddress),1),i.changePassword?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>this.changePassword=!0)},"Change password")),i.changePassword?((0,o.wg)(),(0,o.iD)("form",{key:1,class:"form",onSubmit:t[4]||(t[4]=(0,r.iM)((e=>u.submit()),["prevent"]))},[Ps,(0,o._)("div",Ts,[(0,o.Wm)(a,{modelValue:n.oldPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>n.oldPassword=e),modelModifiers:{lazy:!0},error:n.errors.lastname,label:"Old password",type:"password"},null,8,["modelValue","error"]),(0,o.Wm)(a,{modelValue:n.newPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>n.newPassword=e),modelModifiers:{lazy:!0},error:n.errors.firstname,label:"New password",type:"password"},null,8,["modelValue","error"]),(0,o.Wm)(a,{modelValue:n.confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=e=>n.confirmPassword=e),modelModifiers:{lazy:!0},error:n.errors.email,label:"Confirm password",type:"password"},null,8,["modelValue","error"])]),(0,o._)("button",{disabled:!u.isValid,type:"submit"},"Submit",8,Zs)],32)):(0,o.kq)("",!0)],64)}var Os={components:{BaseInput:Ve},data(){return{error:null,user:this.$store.state.user,changePassword:!1}},created(){document.title="QS99 - Login"},methods:{submit(){f().post("/user/changePassword",null,{params:{newPassword:this.newPassword,oldPassword:this.oldPassword}}).then((()=>{location.reload()})).catch((e=>{alert(e)}))}},setup(){const e=(0,ve.Ry)({oldPassword:(0,ve.Z_)().required(),newPassword:(0,ve.Z_)().required(),confirmPassword:(0,ve.Z_)().required()}),{errors:t}=(0,je.cI)({validationSchema:e}),{value:s}=(0,je.U$)("oldPassword"),{value:r}=(0,je.U$)("newPassword"),{value:o}=(0,je.U$)("confirmPassword");return{oldPassword:s,newPassword:r,confirmPassword:o,errors:t}},computed:{isValid(){return!(this.errors.oldPassword||this.errors.newPassword||this.errors.confirmPassword)&&(this.oldPassword&&this.newPassword&&this.confirmPassword)}}};const Qs=(0,v.Z)(Os,[["render",Hs],["__scopeId","data-v-9d20ae1c"]]);var Ys=Qs;const Bs=e=>((0,o.dD)("data-v-05db6839"),e=e(),(0,o.Cn)(),e),Rs=Bs((()=>(0,o._)("h5",null,"Click the exercise you want to approve",-1))),Ls={class:"exerciseHolder"},Fs={class:"buttons"};function Ks(e,t,s,r,n,i){const u=(0,o.up)("ExerciseBox");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("h1",null," Currently assisting "+(0,H.zw)(n.object.firstName)+", "+(0,H.zw)(n.object.lastName),1),Rs,(0,o._)("div",Ls,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.object.exercises,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e,exercise:e,student:n.object,studentId:s.studentId,subjectId:s.subjectId},null,8,["exercise","student","studentId","subjectId"])))),128))]),(0,o._)("div",Fs,[(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>i.suspend&&i.suspend(...e))},"Suspend"),(0,o._)("button",{onClick:t[1]||(t[1]=(...e)=>i.done&&i.done(...e))},"Done")])],64)}var Gs={name:"HelpAndApprove",props:["subjectId","studentId","entryId"],components:{ExerciseBox:es},data(){return{object:null}},methods:{suspend(){f().post("/entry/setIsGettingHelp",null,{params:{entryId:this.entryId,isGettingHelp:!1}}).then(this.$router.push("/subjects/"+this.subjectId+"/queue"))},done(){f()["delete"]("/entry",{params:{entryId:this.entryId}}).then(this.$router.push("/subjects/"+this.subjectId+"/queue"))}},async created(){await f().get("/user/getUserFromSubject",{params:{email:this.studentId,subjectId:this.subjectId}}).then((e=>{console.table(e),this.object=e.data})).catch((e=>{console.log(e)}))}};const Js=(0,v.Z)(Gs,[["render",Ks],["__scopeId","data-v-05db6839"]]);var Xs=Js;function er(e,t){const s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(s)}const tr={},sr=(0,v.Z)(tr,[["render",er]]);var rr=sr;const or=e=>((0,o.dD)("data-v-2f4bedd4"),e=e(),(0,o.Cn)(),e),nr=or((()=>(0,o._)("h3",null,"All users",-1))),ir=or((()=>(0,o._)("button",null,"Register user",-1))),ur=or((()=>(0,o._)("thead",null,[(0,o._)("th",null,"Email"),(0,o._)("th",null,"Last name"),(0,o._)("th",null,"First name"),(0,o._)("th",null,"Role"),(0,o._)("th",null,"Actions")],-1))),ar=["onClick"];function lr(e,t,s,r,n,i){const u=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[nr,(0,o.Wm)(u,{to:"/register"},{default:(0,o.w5)((()=>[ir])),_:1}),(0,o._)("table",null,[ur,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.users,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("td",null,(0,H.zw)(e.emailAddress),1),(0,o._)("td",null,(0,H.zw)(e.lastName),1),(0,o._)("td",null,(0,H.zw)(e.firstName),1),(0,o._)("td",null,(0,H.zw)(e.role),1),(0,o._)("td",null,[e.emailAddress!==this.$store.state.user.emailAddress?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t=>i.deleteUser(e)}," Delete ",8,ar)):(0,o.kq)("",!0)])])))),128))])],64)}var dr={name:"HomeView",methods:{deleteUser(e){f()["delete"]("/user",{params:{email:e.emailAddress}}).then((e=>{this.users=e.data})).catch((e=>{alert(e.message)}))}},components:{},created(){document.title="QS99 - Students",f().get("/user/getAllUsers").then((e=>{this.users=e.data}))},data(){return{users:null}},computed:{...g}};const cr=(0,v.Z)(dr,[["render",lr],["__scopeId","data-v-2f4bedd4"]]);var mr=cr;const hr=e=>((0,o.dD)("data-v-402725b4"),e=e(),(0,o.Cn)(),e),pr=hr((()=>(0,o._)("h3",null,"All Subjects",-1))),br=hr((()=>(0,o._)("button",null,"Create a subject",-1))),wr=hr((()=>(0,o._)("tr",null,[(0,o._)("th",null,"Code"),(0,o._)("th",null,"Name name"),(0,o._)("th",null,"Description"),(0,o._)("th",null,"Year"),(0,o._)("th",null,"Actions")],-1))),gr=hr((()=>(0,o._)("button",null,"Info",-1))),jr=["onClick"],vr=["onClick"],yr=["onClick"],_r=["onClick"],Ar=["onClick"];function fr(e,t,s,r,n,i){const u=(0,o.up)("AddExercises"),a=(0,o.up)("AddUserToSubject"),l=(0,o.up)("AddMultipleUsersToSubject"),d=(0,o.up)("AddAssistantToSubject"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[n.showAddExercises?((0,o.wg)(),(0,o.j4)(u,{key:0,subject:n.currentSubject,onCloseWindow:i.closeWindow},null,8,["subject","onCloseWindow"])):(0,o.kq)("",!0),n.showAddSingleUser?((0,o.wg)(),(0,o.j4)(a,{key:1,subject:n.currentSubject,onCloseWindow:i.closeWindow},null,8,["subject","onCloseWindow"])):(0,o.kq)("",!0),n.showAddMultipleUsers?((0,o.wg)(),(0,o.j4)(l,{key:2,subject:n.currentSubject,onCloseWindowMultipleUsers:i.closeWindow},null,8,["subject","onCloseWindowMultipleUsers"])):(0,o.kq)("",!0),n.showAddAssistant?((0,o.wg)(),(0,o.j4)(d,{key:3,subject:n.currentSubject,onCloseWindow:i.closeWindow},null,8,["subject","onCloseWindow"])):(0,o.kq)("",!0),pr,(0,o.Wm)(c,{to:"/createSubject"},{default:(0,o.w5)((()=>[br])),_:1}),(0,o._)("table",null,[wr,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.subjects,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id},[(0,o._)("td",null,(0,H.zw)(e.subjectCode),1),(0,o._)("td",null,(0,H.zw)(e.subjectName),1),(0,o._)("td",null,(0,H.zw)(e.subjectDescription),1),(0,o._)("td",null,(0,H.zw)(e.subjectYear),1),(0,o._)("td",null,[(0,o.Wm)(c,{to:{name:"SubjectLayout",params:{id:e.id}}},{default:(0,o.w5)((()=>[gr])),_:2},1032,["to"]),(0,o._)("button",{onClick:t=>i.showSingleUserWindow(e.id,e.subjectCode)}," Add user ",8,jr),(0,o._)("button",{onClick:t=>i.showMultipleUserWindow(e.id,e.subjectCode)}," Add multiple students ",8,vr),(0,o._)("button",{onClick:t=>i.showSingleAssistantWindow(e.id,e.subjectCode)}," Add student assistant ",8,yr),(0,o._)("button",{onClick:t=>i.showAddExercisesWindow(e.id,e.subjectCode)}," Add exercises ",8,_r),(0,o._)("button",{onClick:t=>i.deleteSubject(e)}," Delete Subject ",8,Ar)])])))),128))])],64)}var Sr={name:"HomeView",components:{AddUserToSubject:ze,AddMultipleUsersToSubject:Re,AddExercises:Xe,AddAssistantToSubject:nt},methods:{setCurrentSubject(e,t){this.currentSubject={code:t,id:e}},showSingleUserWindow(e,t){this.setCurrentSubject(e,t),this.showAddSingleUser=!0,this.showAddMultipleUsers=!1,this.showAddExercises=!1,this.showAddAssistant=!1},showMultipleUserWindow(e,t){this.setCurrentSubject(e,t),this.showAddSingleUser=!1,this.showAddMultipleUsers=!0,this.showAddExercises=!1,this.showAddAssistant=!1},showAddExercisesWindow(e,t){this.setCurrentSubject(e,t),this.showAddSingleUser=!1,this.showAddMultipleUsers=!1,this.showAddExercises=!0,this.showAddAssistant=!1},showSingleAssistantWindow(e,t){this.setCurrentSubject(e,t),this.showAddAssistant=!0,this.showAddSingleUser=!1,this.showAddMultipleUsers=!1,this.showAddExercises=!1},closeWindow(){this.showAddSingleUser=!1,this.showAddMultipleUsers=!1,this.showAddExercises=!1,this.showAddAssistant=!1},deleteSubject(e){let t=confirm("Are you sure to execute this action?");t&&(f()["delete"]("/subject",{params:{subjectId:e.id}}),location.reload())}},async created(){document.title="QS99 - Students",await f().get("/subject/getAllSubject").then((e=>{this.subjects=e.data}))},data(){return{subjects:null,showAddSingleUser:!1,showAddMultipleUsers:!1,showAddAssistant:!1,showAddExercises:!1,currentSubject:null}},computed:{...g}};const kr=(0,v.Z)(Sr,[["render",fr],["__scopeId","data-v-402725b4"]]);var Ir=kr;const Ur=e=>((0,o.dD)("data-v-42d2c250"),e=e(),(0,o.Cn)(),e),xr=Ur((()=>(0,o._)("h1",null,"Create a subject",-1))),Dr=["disabled"];function Cr(e,t,s,n,i,u){const a=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("form",{class:"form",onSubmit:t[4]||(t[4]=(0,r.iM)((e=>u.submit()),["prevent"]))},[xr,(0,o.Wm)(a,{modelValue:n.code,"onUpdate:modelValue":t[0]||(t[0]=e=>n.code=e),modelModifiers:{lazy:!0},error:n.errors.email,label:"Subject code",type:"text"},null,8,["modelValue","error"]),(0,o.Wm)(a,{modelValue:n.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.name=e),modelModifiers:{lazy:!0},error:n.errors.firstname,label:"Subject name",type:"text"},null,8,["modelValue","error"]),(0,o.Wm)(a,{modelValue:n.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.description=e),modelModifiers:{lazy:!0},error:n.errors.email,label:"Description",type:"text"},null,8,["modelValue","error"]),(0,o.Wm)(a,{modelValue:n.year,"onUpdate:modelValue":t[3]||(t[3]=e=>n.year=e),error:n.errors.password,label:"Year of lecturing",type:"text"},null,8,["modelValue","error"]),(0,o._)("button",{disabled:!u.isValid,type:"submit"},"Submit",8,Dr)],32)])}var qr={components:{BaseInput:Ve},data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){f().post("/subject/create",null,{params:{subjectName:this.name,subjectCode:this.code,subjectDescription:this.description,year:this.year}}).then((()=>{this.$router.push("/subjects")})).catch((e=>{console.log(e)}))}},setup(){const e=(0,ve.Ry)({name:(0,ve.Z_)().required(),code:(0,ve.Z_)().required(),description:(0,ve.Z_)().required(),year:(0,ve.Z_)().required()}),{errors:t}=(0,je.cI)({validationSchema:e}),{value:s}=(0,je.U$)("name"),{value:r}=(0,je.U$)("code"),{value:o}=(0,je.U$)("description"),{value:n}=(0,je.U$)("year");return{name:s,code:r,description:o,year:n,errors:t}},computed:{isValid(){return!(this.errors.name||this.errors.code||this.errors.description||this.errors.year)&&(this.name&&this.code&&this.description&&this.year)}}};const Wr=(0,v.Z)(qr,[["render",Cr],["__scopeId","data-v-42d2c250"]]);var Vr=Wr;const Mr=(0,w.MT)({state:{user:null},getters:{loggedIn(e){return!!e.user},isProfessor(e){return"Professor"===e.user.role},isAdmin(e){return"Admin"===e.user.role},isStudent(e){return"Student"===e.user.role}},mutations:{SET_USER_DATA(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t)),f().defaults.headers.common.authorization="Bearer "+t.token},async CLEAR_USER_DATA(e){e.user=null,await localStorage.removeItem("user"),location.reload()}},actions:{login({commit:e},t){return f().post("/user/login",null,{params:{email:t.email,password:t.password}}).then((t=>{e("SET_USER_DATA",t.data)}))},logout({commit:e}){e("CLEAR_USER_DATA")}},modules:{}});var $r=Mr;const zr=[{path:"/",redirect:"/subjects",meta:{requiresAuth:!0}},{path:"/subjects",name:"subjects",component:X,meta:{requiresAuth:!0}},{path:"/subjects/:id",name:"SubjectLayout",props:!0,component:ct,meta:{requiresAuth:!0},children:[{path:"queue",name:"SubjectQueue",component:Wt},{path:"details",name:"SubjectDetails",component:wt},{path:"studentAssignments",name:"StudentSubjectAssignments",component:Zt},{path:"assignments",name:"assignments",component:Yt},{path:"subjectUsers",name:"subjectUsers",component:rs},{path:"joinQueue",name:"joinQueue",component:js}]},{path:"/login",name:"login",component:Es},{path:"/profile",name:"profile",component:Ys,meta:{requiresAuth:!0}},{path:"/register",name:"register",component:Cs,meta:{requiresAuth:!0}},{path:"/helpAndApprove/:subjectId/:studentId/:entryId",name:"helpAndApprove",props:!0,component:Xs,meta:{requiresAuth:!0}},{path:"/admin",name:"admin",props:!0,component:rr,meta:{requiresAuth:!0},children:[{path:"users",name:"users",component:mr},{path:"subjects",name:"allSubjects",component:Ir}]},{path:"/createSubject",name:"createSubject",component:Vr,meta:{requiresAuth:!0}}],Er=(0,U.p7)({history:(0,U.r5)(),routes:zr});Er.beforeEach(((e,t,s)=>{const r=["/login"],o=r.includes(e.path),n=["/admin","/register"],i=n.includes(e.path),u=["/subjects"],a=u.includes(e.path),l=$r.state.user;let d=!1;return l&&(d=$r.getters.isAdmin),e.matched.some((e=>e.meta.requiresAuth))?l?o&&l&&d||i&&!d&&l?s("/subjects"):a&&d&&l||o&&d&&l?s("/admin/users"):s():s("/login"):s()}));var Nr=Er,Pr=s(4609),Tr=s.n(Pr),Zr=s(8420),Hr=s.n(Zr);const Or=s(1917),Qr=(0,r.ri)(I);Or.keys().forEach((e=>{const t=Or(e),s=Tr()(Hr()(e.replace(/^\.\/(.*)\.\w+$/,"$1")));Qr.component(s,t.default||t)})),Qr.use($r).use(Nr).mount("#app")},1917:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=1917,e.exports=t},6949:function(e,t,s){"use strict";e.exports=s.p+"img/logo.d1e80654.png"}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={id:r,loaded:!1,exports:{}};return e[r](n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){var e=[];s.O=function(t,r,o,n){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],n=e[d][2];for(var u=!0,a=0;a<r.length;a++)(!1&n||i>=n)&&Object.keys(s.O).every((function(e){return s.O[e](r[a])}))?r.splice(a--,1):(u=!1,n<i&&(i=n));if(u){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,o,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,n,i=r[0],u=r[1],a=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in u)s.o(u,o)&&(s.m[o]=u[o]);if(a)var d=a(s)}for(t&&t(r);l<i.length;l++)n=i[l],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(7923)}));r=s.O(r)})();
//# sourceMappingURL=app.56d73ac3.js.map