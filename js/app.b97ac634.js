(function(){var e={6654:function(e,t,r){"use strict";var n=r(9242),o=r(3396);function a(e,t,r,n,a,u){const s=(0,o.up)("NavigationMenu"),i=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(s),(0,o.Wm)(i)],64)}var u=r(7139),s=r(6949);const i=e=>((0,o.dD)("data-v-31544fd3"),e=e(),(0,o.Cn)(),e),l={class:"container"},c=i((()=>(0,o._)("img",{src:s,alt:"Logo"},null,-1))),d=i((()=>(0,o._)("h3",null,"Subjects",-1))),m={key:1,class:"userInformation"};function p(e,t,r,n,a,s){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",l,[c,e.loggedIn?((0,o.wg)(),(0,o.j4)(i,{key:0,class:"routerLink",to:"/"},{default:(0,o.w5)((()=>[d])),_:1})):(0,o.kq)("",!0),e.loggedIn?((0,o.wg)(),(0,o.iD)("div",m,[(0,o._)("h3",null,(0,u.zw)(this.$store.state.user.firstname),1),(0,o._)("button",{class:"logOutBtn",onClick:t[0]||(t[0]=e=>s.logOut())},"Log out")])):(0,o.kq)("",!0)])}var f=r(65);const v={...(0,f.Se)(["loggedIn"])};var g={methods:{logOut(){this.$store.dispatch("logout")}},computed:{...v}},b=r(89);const h=(0,b.Z)(g,[["render",p],["__scopeId","data-v-31544fd3"]]);var w=h,j={created(){const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);this.$store.commit("SET_USER_DATA",t)}document.title="QS99"},components:{NavigationMenu:w},computed:{}};const _=(0,b.Z)(j,[["render",a]]);var S=_,y=r(678);const D=(0,o._)("h3",null,"Active queues",-1),k={class:"cardHolder"},T=(0,o._)("h3",null,"Other subjects",-1),I={class:"cardHolder"};function A(e,t,r,n,a,u){const s=(0,o.up)("SubjectCardActiveQueue"),i=(0,o.up)("SubjectCard");return(0,o.wg)(),(0,o.iD)(o.HY,null,[D,(0,o._)("div",k,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.activeSubjects,(e=>((0,o.wg)(),(0,o.j4)(s,{key:e.id,subject:e},null,8,["subject"])))),128))]),T,(0,o._)("div",I,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.subjects,(e=>((0,o.wg)(),(0,o.j4)(i,{key:e.id,subject:e},null,8,["subject"])))),128))])],64)}const O=e=>((0,o.dD)("data-v-2f8a1150"),e=e(),(0,o.Cn)(),e),E={class:"card"},U=O((()=>(0,o._)("br",null,null,-1)));function $(e,t,r,n,a,s){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(i,{to:{name:"SubjectDetails",params:{id:r.subject.id}}},{default:(0,o.w5)((()=>[(0,o._)("div",E,[(0,o._)("h1",null,(0,u.zw)(r.subject.code),1),(0,o.Uk)(" "+(0,u.zw)(r.subject.name)+" ",1),U])])),_:1},8,["to"])}var Z={props:{subject:{type:Object,required:!0}}};const C=(0,b.Z)(Z,[["render",$],["__scopeId","data-v-2f8a1150"]]);var M=C;const V=e=>((0,o.dD)("data-v-69f051b6"),e=e(),(0,o.Cn)(),e),q={class:"card"},z=V((()=>(0,o._)("br",null,null,-1)));function N(e,t,r,n,a,s){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(i,{to:{name:"SubjectQueue",params:{id:r.subject.id}}},{default:(0,o.w5)((()=>[(0,o._)("div",q,[(0,o._)("h1",null,(0,u.zw)(r.subject.code),1),(0,o.Uk)(" "+(0,u.zw)(r.subject.name)+" ",1),z])])),_:1},8,["to"])}var Q={props:{subject:{type:Object,required:!0}}};const L=(0,b.Z)(Q,[["render",N],["__scopeId","data-v-69f051b6"]]);var W=L,R={name:"HomeView",components:{SubjectCard:M,SubjectCardActiveQueue:W},created(){document.title="QS99 - Subjects"},data(){return{activeSubjects:[{id:1,code:"IDATT1234",name:"Testfag"},{id:1,code:"IDATT1234",name:"Matematiske metoder 2"}],subjects:[{id:1,code:"IDATT2101",name:"Programmering 1"},{id:1,code:"IDATT2124",name:"Systemutvikling"},{id:1,code:"IDATT9012",name:"Fysikk data"},{id:1,code:"IDATT1011",name:"Operativsystmer"}]}},computed:{...v}};const H=(0,b.Z)(R,[["render",A]]);var x=H;const B={id:"nav"},P=(0,o.Uk)("Queue"),F=(0,o.Uk)(" | "),Y=(0,o.Uk)("Details"),J=(0,o.Uk)(" | "),K=(0,o.Uk)("Assignments");function G(e,t,r,n,a,s){const i=(0,o.up)("router-link"),l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h1",null,(0,u.zw)(a.subject.code),1),(0,o._)("div",B,[(0,o.Wm)(i,{to:{name:"SubjectQueue"}},{default:(0,o.w5)((()=>[P])),_:1}),F,(0,o.Wm)(i,{to:{name:"SubjectDetails"}},{default:(0,o.w5)((()=>[Y])),_:1}),J,(0,o.Wm)(i,{to:{name:"SubjectAssignments"}},{default:(0,o.w5)((()=>[K])),_:1})]),(0,o.Wm)(l,{subject:a.subject},null,8,["subject"])])}var X={props:["id"],created(){document.title="QS99 - "+this.subject.code},data(){return{subject:{id:1,code:"IDATT1234",name:"Tester"}}}};const ee=(0,b.Z)(X,[["render",G]]);var te=ee;function re(e,t,r,n,a,s){return(0,o.wg)(),(0,o.iD)("h1",null,(0,u.zw)(r.subject.name),1)}var ne={props:["subject"]};const oe=(0,b.Z)(ne,[["render",re]]);var ae=oe;function ue(e,t,r,n,a,u){return(0,o.wg)(),(0,o.iD)("h1",null,"Queue")}var se={props:["event"]};const ie=(0,b.Z)(se,[["render",ue]]);var le=ie;function ce(e,t){return(0,o.wg)(),(0,o.iD)("div")}const de={},me=(0,b.Z)(de,[["render",ce]]);var pe=me;function fe(e,t,r,n,a,u){return(0,o.wg)(),(0,o.iD)("div")}var ve={data(){return{name:"",email:"",password:""}},methods:{register(){this.$store.dispatch("register",{firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password}).then((()=>{this.$router.push({name:"HomeView"})})).catch((e=>{console.log(e)}))}}};const ge=(0,b.Z)(ve,[["render",fe]]);var be=ge;const he=(0,o._)("h1",null,"Log in",-1),we=["disabled"],je={key:0};function _e(e,t,r,a,s,i){const l=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("form",{class:"loginForm",onSubmit:t[2]||(t[2]=(0,n.iM)((e=>i.submit()),["prevent"]))},[he,(0,o.Wm)(l,{label:"Email",type:"email",modelValue:a.email,"onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),modelModifiers:{lazy:!0},error:a.errors.email},null,8,["modelValue","error"]),(0,o.Wm)(l,{label:"Password",type:"password",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),error:a.errors.password},null,8,["modelValue","error"]),(0,o._)("button",{disabled:!i.isValid,type:"submit"},"Log in",8,we),s.error?((0,o.wg)(),(0,o.iD)("p",je,(0,u.zw)(s.error),1)):(0,o.kq)("",!0)],32)])}var Se=r(5708),ye=r(6542),De={data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){console.log(this.email),this.$store.dispatch("login",{email:this.email,password:this.password}).then((()=>{console.log("yep i live"),this.$router.push("/")})).catch((e=>{console.log(e)}))}},setup(){const e=(0,ye.Ry)({email:(0,ye.Z_)().email("Invalid email format").required(),password:(0,ye.Z_)().required()}),{errors:t}=(0,Se.cI)({validationSchema:e}),{value:r}=(0,Se.U$)("email"),{value:n}=(0,Se.U$)("password");return{email:r,password:n,errors:t}},computed:{isValid(){return!this.errors.email&&!this.errors.password&&(this.email&&this.password)}}};const ke=(0,b.Z)(De,[["render",_e]]);var Te=ke;const Ie=[{path:"/",name:"subjects",component:x,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:Te},{path:"/register",name:"register",component:be},{path:"/subject/:id",name:"SubjectLayout",props:!0,component:te,children:[{path:"queue",name:"SubjectQueue",component:le},{path:"details",name:"SubjectDetails",component:ae},{path:"assignments",name:"SubjectAssignments",component:pe}]}],Ae=(0,y.p7)({history:(0,y.r5)(),routes:Ie});Ae.beforeEach(((e,t,r)=>{const n=["/login"],o=!n.includes(e.path),a=localStorage.getItem("user");return o&&!a?r("/login"):a&&!o?r("/"):void r()}));var Oe=Ae,Ee=r(6265),Ue=r.n(Ee),$e=(0,f.MT)({state:{user:null},getters:{loggedIn(e){return!!e.user}},mutations:{SET_USER_DATA(e,t){e.user=t.data,localStorage.setItem("user",JSON.stringify(t)),Ue().defaults.headers.common.authorization="Bearer ${user.token}"},CLEAR_USER_DATA(){localStorage.removeItem("user"),location.reload()}},actions:{login({commit:e},t){return Ue().post("http://localhost:8001/user/login",null,{params:{email:t.email,password:t.password}}).then((t=>{console.log(t),e("SET_USER_DATA",t)}))},register({commit:e},t){return Ue().post("http://localhost:8001/user/register",t).then((t=>{e("SET_USER_DATA",t)}))},logout({commit:e}){e("CLEAR_USER_DATA")}},modules:{}}),Ze=r(4609),Ce=r.n(Ze),Me=r(8420),Ve=r.n(Me);const qe=r(1917),ze=(0,n.ri)(S);qe.keys().forEach((e=>{const t=qe(e),r=Ce()(Ve()(e.replace(/^\.\/(.*)\.\w+$/,"$1")));ze.component(r,t.default||t)})),ze.use($e).use(Oe).mount("#app")},4524:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(3396);const o=["id"];function a(e,t,r,a,u,s){return(0,n.wg)(),(0,n.iD)("p",{"aria-live":"assertive",class:"errorMessage",id:r.id},[(0,n.WI)(e.$slots,"default",{},void 0,!0)],8,o)}var u={props:{id:{type:[String,Number],required:!0}}},s=r(89);const i=(0,s.Z)(u,[["render",a],["__scopeId","data-v-b3a6cd26"]]);var l=i},3211:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(3396),o=r(7139);const a={class:"container"},u=["for"],s=["id","value","placeholder","aria-describedby","aria-invalid"];function i(e,t,r,i,l,c){const d=(0,n.up)("BaseErrorMessage");return(0,n.wg)(),(0,n.iD)("div",a,[r.label?((0,n.wg)(),(0,n.iD)("label",{key:0,for:i.uuid},(0,o.zw)(r.label),9,u)):(0,n.kq)("",!0),(0,n._)("input",(0,n.dG)({class:"field"},e.$attrs,{onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),id:i.uuid,value:r.modelValue,placeholder:r.label,"aria-describedby":r.error?`${i.uuid}-error`:null,"aria-invalid":!!r.error,class:{error:r.error}}),null,16,s),(0,n.Wm)(d,{id:`${i.uuid}-error`},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(r.error),1)])),_:1},8,["id"])])}let l=0;function c(){const e=()=>(l++,l);return{getID:e}}var d={props:{label:{type:String,default:""},error:{type:String,default:""},modelValue:{type:[String,Number],default:""}},setup(){const e=c().getID();return{uuid:e}}},m=r(89);const p=(0,m.Z)(d,[["render",i],["__scopeId","data-v-252fad5b"]]);var f=p},1917:function(e,t,r){var n={"./BaseErrorMessage.vue":4524,"./BaseInput.vue":3211};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=1917},6949:function(e,t,r){"use strict";e.exports=r.p+"img/logo.d1e80654.png"}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n](a,a.exports,r),a.loaded=!0,a.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,a){if(!n){var u=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],a=e[c][2];for(var s=!0,i=0;i<n.length;i++)(!1&a||u>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[i])}))?n.splice(i--,1):(s=!1,a<u&&(u=a));if(s){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){r.p="/"}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,u=n[0],s=n[1],i=n[2],l=0;if(u.some((function(t){return 0!==e[t]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(i)var c=i(r)}for(t&&t(n);l<u.length;l++)a=u[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(6654)}));n=r.O(n)})();
//# sourceMappingURL=app.b97ac634.js.map