(function(){var e={8569:function(e,r,t){"use strict";var n=t(9242),o=t(3396);function a(e,r,t,n,a,s){const u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(u)}var s=t(6265),u=t.n(s),i={setup(){const e=localStorage.getItem("user");if(e){const r=JSON.parse(e);this.$store.commit("SET_USER_DATA",r)}u().interceptors.response.use((e=>e),(e=>(401===e.response.status&&this.$store.dispatch("logout"),Promise.reject(e))))},components:{},computed:{}},l=t(89);const c=(0,l.Z)(i,[["render",a]]);var d=c,m=t(678),p=t(7139);const f=(0,o._)("h3",null,"Here are your active subjects",-1),v={class:"cardHolder"};function h(e,r,t,n,a,s){const u=(0,o.up)("SubjectCard");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("h1",null,"Welcome "+(0,p.zw)(),1),f,(0,o._)("div",v,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.subjects,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e.id,subject:e},null,8,["subject"])))),128))])],64)}function g(e,r,t,n,a,s){const u=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(u,{to:{name:"SubjectDetails",params:{id:t.subject.id}}},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("h1",null,(0,p.zw)(t.subject.code),1),(0,o._)("h3",null,(0,p.zw)(t.subject.name),1)])])),_:1},8,["to"])}var b={props:{subject:{type:Object,required:!0}}};const w=(0,l.Z)(b,[["render",g]]);var j=w,S=t(65);const _={...(0,S.Se)(["loggedIn"])};var y={name:"HomeView",components:{SubjectCard:j},data(){return{subjects:[{id:1,code:"IDATT1234",name:"Testfag"},{id:1,code:"IDATT1234",name:"Testfag"},{id:1,code:"IDATT1234",name:"Testfag"},{id:1,code:"IDATT1234",name:"Testfag"}]}},computed:{..._}};const T=(0,l.Z)(y,[["render",h]]);var D=T;const A={id:"nav"},k=(0,o.Uk)("Details"),I=(0,o.Uk)(" | "),E=(0,o.Uk)("Queue"),O=(0,o.Uk)(" | "),U=(0,o.Uk)("Assignments");function $(e,r,t,n,a,s){const u=(0,o.up)("router-link"),i=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h1",null,(0,p.zw)(),1),(0,o._)("div",A,[(0,o.Wm)(u,{to:{name:"SubjectDetails"}},{default:(0,o.w5)((()=>[k])),_:1}),I,(0,o.Wm)(u,{to:{name:"SubjectQueue"}},{default:(0,o.w5)((()=>[E])),_:1}),O,(0,o.Wm)(u,{to:{name:"SubjectAssignments"}},{default:(0,o.w5)((()=>[U])),_:1})]),(0,o.Wm)(i,{subject:a.subject},null,8,["subject"])])}var V={props:["id"],data(){return{subject:{id:1,code:"IDATT1234",name:"Tester"}}}};const Z=(0,l.Z)(V,[["render",$]]);var M=Z;function N(e,r,t,n,a,s){return(0,o.wg)(),(0,o.iD)("h1",null,(0,p.zw)(t.subject.name),1)}var R={props:["subject"]};const W=(0,l.Z)(R,[["render",N]]);var z=W;function H(e,r,t,n,a,s){return(0,o.wg)(),(0,o.iD)("h1",null,"Queue")}var C={props:["event"]};const q=(0,l.Z)(C,[["render",H]]);var L=q;const P={},x=P;var B=x;function Q(e,r,t,n,a,s){return(0,o.wg)(),(0,o.iD)("div")}var F={data(){return{name:"",email:"",password:""}},methods:{register(){this.$store.dispatch("register",{firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password}).then((()=>{this.$router.push({name:"HomeView"})})).catch((e=>{console.log(e)}))}}};const J=(0,l.Z)(F,[["render",Q]]);var Y=J;const G=(0,o._)("h1",null,"Welcome to QS 99",-1),K=(0,o._)("h1",null,"Log in",-1),X=["disabled"];function ee(e,r,t,a,s,u){const i=(0,o.up)("BaseInput");return(0,o.wg)(),(0,o.iD)("div",null,[G,(0,o._)("form",{class:"loginForm",onSubmit:r[3]||(r[3]=(0,n.iM)(((...e)=>a.submit&&a.submit(...e)),["prevent"]))},[K,(0,o.Wm)(i,{label:"Email",type:"email",modelValue:a.email,"onUpdate:modelValue":r[0]||(r[0]=e=>a.email=e),modelModifiers:{lazy:!0},error:a.errors.email},null,8,["modelValue","error"]),(0,o.Wm)(i,{label:"Password",type:"password",modelValue:a.password,"onUpdate:modelValue":r[1]||(r[1]=e=>a.password=e),error:a.errors.password},null,8,["modelValue","error"]),(0,o._)("button",{disabled:!u.isValid,type:"submit",onClick:r[2]||(r[2]=(...r)=>e.handleSubmit&&e.handleSubmit(...r))}," Log in ",8,X)],32)])}var re=t(5708),te=t(6542),ne=t(4870),oe={data(){return{user:["email","password"]}},setup(){var e=(0,ne.iH)(!1),r=(0,ne.iH)(!1);const t=(0,te.Ry)({email:(0,te.Z_)().email("Invalid email format").required(),password:(0,te.Z_)().required()}),{handleSubmit:n,errors:o}=(0,re.cI)({validationSchema:t}),{value:a}=(0,re.U$)("email"),{value:s}=(0,re.U$)("password"),u=(0,S.oR)();var i="";const l=n((()=>{console.log("hei"),u.dispatch("login",{credentials:{email:a,password:s}}).then((()=>{this.$router.push({name:"HomeView"})})).catch((e=>{i=e}))}));return{email:a,password:s,submit:l,errors:o,error:i,submitted:e,sending:r}},computed:{isValid(){return!this.errors.email&&!this.errors.password&&(this.email&&this.password)}}};const ae=(0,l.Z)(oe,[["render",ee]]);var se=ae;const ue=[{path:"/",name:"subjects",component:D,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:se},{path:"/register",name:"register",component:Y},{path:"/subject/:id",name:"SubjectLayout",props:!0,component:M,children:[{path:"",name:"SubjectDetails",component:z},{path:"register",name:"SubjectQueue",component:L},{path:"assignments",name:"SubjectAssignments",component:B}]}],ie=(0,m.p7)({history:(0,m.r5)(),routes:ue});ie.beforeEach(((e,r,t)=>{const n=localStorage.getItem("user");e.matched.some((e=>e.meta.requiresAuth))&&!n?t("/login"):t()}));var le=ie,ce=(0,S.MT)({state:{user:null},getters:{loggedIn(e){return!!e.user}},mutations:{SET_USER_DATA(e,r){e.user=r,localStorage.setItem("user",JSON.stringify(r)),u().defaults.headers.common.authorization="Bearer ${user.token}"},CLEAR_USER_DATA(){localStorage.removeItem("user"),location.reload()}},actions:{login({commit:e},r){return console.log("hei igjen"),u().post("localhost:8001/user/login",null,{params:{email:r.email,password:r.password}}).then((r=>{e("SET_USER_DATA",r)}))},register({commit:e},r){return u().post("localhost:8001/user/register",r).then((r=>{e("SET_USER_DATA",r)}))},logout({commit:e}){e("CLEAR_USER_DATA")}},modules:{}}),de=t(4609),me=t.n(de),pe=t(8420),fe=t.n(pe);const ve=t(1917),he=(0,n.ri)(d);ve.keys().forEach((e=>{const r=ve(e),t=me()(fe()(e.replace(/^\.\/(.*)\.\w+$/,"$1")));he.component(t,r.default||r)})),he.use(ce).use(le).mount("#app")},4524:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var n=t(3396);const o=["id"];function a(e,r,t,a,s,u){return(0,n.wg)(),(0,n.iD)("p",{"aria-live":"assertive",class:"errorMessage",id:t.id},[(0,n.WI)(e.$slots,"default",{},void 0,!0)],8,o)}var s={props:{id:{type:[String,Number],required:!0}}},u=t(89);const i=(0,u.Z)(s,[["render",a],["__scopeId","data-v-b3a6cd26"]]);var l=i},3211:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var n=t(3396),o=t(7139);const a={class:"container"},s=["for"],u=["id","value","placeholder","aria-describedby","aria-invalid"];function i(e,r,t,i,l,c){const d=(0,n.up)("BaseErrorMessage");return(0,n.wg)(),(0,n.iD)("div",a,[t.label?((0,n.wg)(),(0,n.iD)("label",{key:0,for:i.uuid},(0,o.zw)(t.label),9,s)):(0,n.kq)("",!0),(0,n._)("input",(0,n.dG)({class:"field"},e.$attrs,{onInput:r[0]||(r[0]=r=>e.$emit("update:modelValue",r.target.value)),id:i.uuid,value:t.modelValue,placeholder:t.label,"aria-describedby":t.error?`${i.uuid}-error`:null,"aria-invalid":!!t.error,class:{error:t.error}}),null,16,u),(0,n.Wm)(d,{id:`${i.uuid}-error`},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.error),1)])),_:1},8,["id"])])}let l=0;function c(){const e=()=>(l++,l);return{getID:e}}var d={props:{label:{type:String,default:""},error:{type:String,default:""},modelValue:{type:[String,Number],default:""}},setup(){const e=c().getID();return{uuid:e}}},m=t(89);const p=(0,m.Z)(d,[["render",i],["__scopeId","data-v-252fad5b"]]);var f=p},1917:function(e,r,t){var n={"./BaseErrorMessage.vue":4524,"./BaseInput.vue":3211};function o(e){var r=a(e);return t(r)}function a(e){if(!t.o(n,e)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=1917}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={id:n,loaded:!1,exports:{}};return e[n](a,a.exports,t),a.loaded=!0,a.exports}t.m=e,function(){var e=[];t.O=function(r,n,o,a){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],a=e[c][2];for(var u=!0,i=0;i<n.length;i++)(!1&a||s>=a)&&Object.keys(t.O).every((function(e){return t.O[e](n[i])}))?n.splice(i--,1):(u=!1,a<s&&(s=a));if(u){e.splice(c--,1);var l=o();void 0!==l&&(r=l)}}return r}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,n){var o,a,s=n[0],u=n[1],i=n[2],l=0;if(s.some((function(r){return 0!==e[r]}))){for(o in u)t.o(u,o)&&(t.m[o]=u[o]);if(i)var c=i(t)}for(r&&r(n);l<s.length;l++)a=s[l],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(8569)}));n=t.O(n)})();
//# sourceMappingURL=app.c6d04d0b.js.map