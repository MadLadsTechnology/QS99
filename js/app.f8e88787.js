(function(){var e={8066:function(e,t,r){"use strict";var n=r(9242),s=r(3396);function a(e,t,r,n,a,o){const u=(0,s.up)("NavigationMenu"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(u),(0,s.Wm)(l)],64)}var o=r(7139),u=r(6949);const l=e=>((0,s.dD)("data-v-3644d3d4"),e=e(),(0,s.Cn)(),e),i={class:"container"},c=l((()=>(0,s._)("img",{src:u,alt:"Logo"},null,-1))),d=l((()=>(0,s._)("h3",null,"Subjects",-1))),m={key:1,class:"userInformation"};function p(e,t,r,n,a,u){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(l,{to:"/"},{default:(0,s.w5)((()=>[c])),_:1}),e.loggedIn?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"routerLink",to:"/subjects"},{default:(0,s.w5)((()=>[d])),_:1})):(0,s.kq)("",!0),e.loggedIn?((0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("h3",null,(0,o.zw)(this.$store.state.user.email),1),(0,s._)("button",{class:"logOutBtn",onClick:t[0]||(t[0]=e=>u.logOut())},"Log out")])):(0,s.kq)("",!0)])}var f=r(65);const v={...(0,f.Se)(["loggedIn"])};var b={methods:{logOut(){this.$store.dispatch("logout"),this.$router.push("/login")}},computed:{...v}},h=r(89);const g=(0,h.Z)(b,[["render",p],["__scopeId","data-v-3644d3d4"]]);var w=g,j={created(){const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);this.$store.commit("SET_USER_DATA",t)}document.title="QS99"},components:{NavigationMenu:w},computed:{}};const _=(0,h.Z)(j,[["render",a]]);var S=_,y=r(678);const k=(0,s._)("h3",null,"Active queues",-1),D={class:"cardHolder"},U=(0,s._)("h3",null,"Other subjects",-1),A={class:"cardHolder"};function I(e,t,r,n,a,o){const u=(0,s.up)("SubjectCardActiveQueue"),l=(0,s.up)("SubjectCard");return(0,s.wg)(),(0,s.iD)(s.HY,null,[k,(0,s._)("div",D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.subjects.active,(e=>((0,s.wg)(),(0,s.j4)(u,{key:parseInt(e.id),subject:e},null,8,["subject"])))),128))]),U,(0,s._)("div",A,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.subjects.isActive,(e=>((0,s.wg)(),(0,s.j4)(l,{key:parseInt(e.id),subject:e},null,8,["subject"])))),128))])],64)}const V=e=>((0,s.dD)("data-v-2f8a1150"),e=e(),(0,s.Cn)(),e),O={class:"card"},q=V((()=>(0,s._)("br",null,null,-1)));function E(e,t,r,n,a,u){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(l,{to:{name:"SubjectDetails",params:{id:r.subject.id}}},{default:(0,s.w5)((()=>[(0,s._)("div",O,[(0,s._)("h1",null,(0,o.zw)(r.subject.code),1),(0,s.Uk)(" "+(0,o.zw)(r.subject.name)+" ",1),q])])),_:1},8,["to"])}var Z={props:{subject:{type:Object,required:!0}}};const $=(0,h.Z)(Z,[["render",E],["__scopeId","data-v-2f8a1150"]]);var z=$;const T=e=>((0,s.dD)("data-v-69f051b6"),e=e(),(0,s.Cn)(),e),W={class:"card"},M=T((()=>(0,s._)("br",null,null,-1)));function Q(e,t,r,n,a,u){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(l,{to:{name:"SubjectQueue",params:{id:r.subject.id}}},{default:(0,s.w5)((()=>[(0,s._)("div",W,[(0,s._)("h1",null,(0,o.zw)(r.subject.code),1),(0,s.Uk)(" "+(0,o.zw)(r.subject.name)+" ",1),M])])),_:1},8,["to"])}var C={props:{subject:{type:Object,required:!0}}};const H=(0,h.Z)(C,[["render",Q],["__scopeId","data-v-69f051b6"]]);var L=H,R=r(6265),N=r.n(R),B={name:"HomeView",components:{SubjectCard:z,SubjectCardActiveQueue:L},created(){document.title="QS99 - Subjects",N().get("http://localhost:8001/subject/getByUser").then((e=>{this.allSubjects=e.data,console.log(this.allSubjects)}))},data(){return{allSubjects:[]}},computed:{...v,subjects:function(){const e=[],t=[];for(const r in this.allSubjects)r.isQueueActive?e.push(r):(console.log(r),t.push(r));return{active:e,isActive:t}}}};const Y=(0,h.Z)(B,[["render",I]]);var x=Y;const P={id:"nav"},F=(0,s.Uk)("Queue"),J=(0,s.Uk)(" | "),K=(0,s.Uk)("Details"),G=(0,s.Uk)(" | "),X=(0,s.Uk)("Assignments");function ee(e,t,r,n,a,u){const l=(0,s.up)("router-link"),i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h1",null,(0,o.zw)(a.subject.code),1),(0,s._)("div",P,[(0,s.Wm)(l,{to:{name:"SubjectQueue"}},{default:(0,s.w5)((()=>[F])),_:1}),J,(0,s.Wm)(l,{to:{name:"SubjectDetails"}},{default:(0,s.w5)((()=>[K])),_:1}),G,(0,s.Wm)(l,{to:{name:"SubjectAssignments"}},{default:(0,s.w5)((()=>[X])),_:1})]),(0,s.Wm)(i,{subject:a.subject},null,8,["subject"])])}var te={props:["id"],created(){document.title="QS99 - "+this.subject.code},data(){return{subject:{id:1,code:"IDATT1234",name:"Tester"}}}};const re=(0,h.Z)(te,[["render",ee]]);var ne=re;function se(e,t,r,n,a,u){return(0,s.wg)(),(0,s.iD)("h1",null,(0,o.zw)(r.subject.name),1)}var ae={props:["subject"]};const oe=(0,h.Z)(ae,[["render",se]]);var ue=oe;const le=(0,s._)("h1",null,"Queue",-1),ie=(0,s._)("button",null,"Join queue",-1);function ce(e,t,r,n,a,u){return(0,s.wg)(),(0,s.iD)(s.HY,null,[le,ie,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.queue,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:e.lastname,class:"entry"},[(0,s._)("label",null,(0,o.zw)(t+1),1),(0,s.Uk)(" "+(0,o.zw)(e.lastname)+", "+(0,o.zw)(e.firstname)+" | Ã˜ving "+(0,o.zw)(e.assignment),1)])))),128))],64)}var de={props:["subject"],created(){N().get("http://localhost:8001/queue",null,{params:{id:this.subject.id}})},methods:{},data(){return{queue:[{lastname:"navnesen",firstname:"navn",assignment:6},{lastname:"navnesen",firstname:"navn",assignment:6},{lastname:"navnesen",firstname:"navn",assignment:6},{lastname:"navnesen",firstname:"navn",assignment:6}]}}};const me=(0,h.Z)(de,[["render",ce]]);var pe=me;function fe(e,t){return(0,s.wg)(),(0,s.iD)("div")}const ve={},be=(0,h.Z)(ve,[["render",fe]]);var he=be;const ge=(0,s._)("h1",null,"Register",-1),we=["disabled"],je={key:0};function _e(e,t,r,a,u,l){const i=(0,s.up)("BaseInput");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("form",{class:"loginForm",onSubmit:t[4]||(t[4]=(0,n.iM)((e=>l.submit()),["prevent"]))},[ge,(0,s.Wm)(i,{label:"Last name",type:"lastname",modelValue:a.lastname,"onUpdate:modelValue":t[0]||(t[0]=e=>a.lastname=e),modelModifiers:{lazy:!0},error:a.errors.email},null,8,["modelValue","error"]),(0,s.Wm)(i,{label:"First name",type:"text",modelValue:a.firstname,"onUpdate:modelValue":t[1]||(t[1]=e=>a.firstname=e),modelModifiers:{lazy:!0},error:a.errors.firstname},null,8,["modelValue","error"]),(0,s.Wm)(i,{label:"Email",type:"email",modelValue:a.email,"onUpdate:modelValue":t[2]||(t[2]=e=>a.email=e),modelModifiers:{lazy:!0},error:a.errors.email},null,8,["modelValue","error"]),(0,s.Wm)(i,{label:"Password",type:"password",modelValue:a.password,"onUpdate:modelValue":t[3]||(t[3]=e=>a.password=e),error:a.errors.password},null,8,["modelValue","error"]),(0,s._)("button",{disabled:!l.isValid,type:"submit"},"Submit",8,we),u.error?((0,s.wg)(),(0,s.iD)("p",je,(0,o.zw)(u.error),1)):(0,s.kq)("",!0)],32)])}var Se=r(5708),ye=r(6542),ke={data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){this.$store.dispatch("register",{lastname:this.lastname,firstname:this.firstname,email:this.email,password:this.password}).then((()=>{this.$router.push("/subjects")})).catch((e=>{console.log(e)}))}},setup(){const e=(0,ye.Ry)({lastname:(0,ye.Z_)().required(),firstname:(0,ye.Z_)().required(),email:(0,ye.Z_)().email("Invalid email format").required(),password:(0,ye.Z_)().required()}),{errors:t}=(0,Se.cI)({validationSchema:e}),{value:r}=(0,Se.U$)("lastname"),{value:n}=(0,Se.U$)("firstname"),{value:s}=(0,Se.U$)("email"),{value:a}=(0,Se.U$)("password");return{lastname:r,firstname:n,email:s,password:a,errors:t}},computed:{isValid(){return!(this.errors.email||this.errors.password||this.errors.lastname||this.errors.firstname)&&(this.email&&this.password)}}};const De=(0,h.Z)(ke,[["render",_e]]);var Ue=De;const Ae=(0,s._)("h1",null,"Log in",-1),Ie=["disabled"],Ve=(0,s._)("br",null,null,-1),Oe=(0,s.Uk)("Dont have a user? Register here!"),qe={key:0};function Ee(e,t,r,a,u,l){const i=(0,s.up)("BaseInput"),c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("form",{class:"loginForm",onSubmit:t[2]||(t[2]=(0,n.iM)((e=>l.submit()),["prevent"]))},[Ae,(0,s.Wm)(i,{label:"Email",type:"email",modelValue:a.email,"onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),modelModifiers:{lazy:!0},error:a.errors.email},null,8,["modelValue","error"]),(0,s.Wm)(i,{label:"Password",type:"password",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),error:a.errors.password},null,8,["modelValue","error"]),(0,s._)("button",{disabled:!l.isValid,type:"submit"},"Log in",8,Ie),Ve,(0,s.Wm)(c,{to:"register"},{default:(0,s.w5)((()=>[Oe])),_:1}),u.error?((0,s.wg)(),(0,s.iD)("p",qe,(0,o.zw)(a.errors),1)):(0,s.kq)("",!0)],32)])}var Ze={data(){return{error:null}},created(){document.title="QS99 - Login"},methods:{submit(){console.log(this.email),this.$store.dispatch("login",{email:this.email,password:this.password}).then((()=>{console.log("yep i live"),this.$router.push("/subjects")})).catch((e=>{this.error=e}))}},setup(){const e=(0,ye.Ry)({email:(0,ye.Z_)().email("Invalid email format").required(),password:(0,ye.Z_)().required()}),{errors:t}=(0,Se.cI)({validationSchema:e}),{value:r}=(0,Se.U$)("email"),{value:n}=(0,Se.U$)("password");return{email:r,password:n,errors:t}},computed:{isValid(){return!this.errors.email&&!this.errors.password&&(this.email&&this.password)}}};const $e=(0,h.Z)(Ze,[["render",Ee]]);var ze=$e;const Te=(0,s.Uk)(" Admin page "),We={id:"nav"},Me=(0,s.Uk)("Students"),Qe=(0,s.Uk)(" | "),Ce=(0,s.Uk)("Subjects");function He(e,t){const r=(0,s.up)("router-link"),n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Te,(0,s._)("div",We,[(0,s.Wm)(r,{to:{name:"students"}},{default:(0,s.w5)((()=>[Me])),_:1}),Qe,(0,s.Wm)(r,{to:{name:"subjects"}},{default:(0,s.w5)((()=>[Ce])),_:1})]),(0,s.Wm)(n,{subject:e.subject},null,8,["subject"])],64)}const Le={},Re=(0,h.Z)(Le,[["render",He]]);var Ne=Re;const Be=(0,s._)("h3",null,"All students",-1),Ye=(0,s.Uk)(" hello ");function xe(e,t,r,n,a,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[Be,Ye],64)}var Pe={name:"HomeView",components:{},created(){document.title="QS99 - Students",N().get("http://localhost:8001/admin/getUsers").then((e=>{this.students=e}))},data(){return{students:null}},computed:{...v}};const Fe=(0,h.Z)(Pe,[["render",xe]]);var Je=Fe;const Ke={},Ge=Ke;var Xe=Ge;const et=(0,f.MT)({state:{user:null,role:""},getters:{loggedIn(e){return!!e.user},role(e){return e.role}},mutations:{SET_USER_DATA(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t)),N().defaults.headers.common.authorization="Bearer "+t.token},CLEAR_USER_DATA(){localStorage.removeItem("user"),location.reload()}},actions:{login({commit:e},t){return N().post("http://localhost:8001/user/login",null,{params:{email:t.email,password:t.password}}).then((t=>{e("SET_USER_DATA",t.data)}))},register({commit:e},t){return N().post("http://localhost:8001/user/register",null,{params:{lastname:t.lastname,firstname:t.firstname,email:t.email,password:t.password}}).then((()=>{e("SET_USER_DATA",t)}))},logout({commit:e}){e("CLEAR_USER_DATA")}},modules:{}});var tt=et;const rt=[{path:"/",redirect:"/subjects"},{path:"/subjects",name:"subjects",component:x,meta:{requiresAuth:!0}},{path:"/subjects/:id",name:"SubjectLayout",props:!0,component:ne,meta:{requiresAuth:!0},children:[{path:"queue",name:"SubjectQueue",component:pe},{path:"details",name:"SubjectDetails",component:ue},{path:"assignments",name:"SubjectAssignments",component:he}]},{path:"/login",name:"login",component:ze},{path:"/register",name:"register",component:Ue},{path:"/admin",name:"admin",props:!0,component:Ne,meta:{requiresAuth:!0},children:[{path:"students",name:"students",component:Je},{path:"allsubjects",name:"allsubjects",component:Xe}]}],nt=(0,y.p7)({history:(0,y.r5)(),routes:rt});nt.beforeEach(((e,t,r)=>{const n=["/login","/register"],s=n.includes(e.path),a=["/admin"],o=a.includes(e.path),u=["/subjects"],l=u.includes(e.path),i=localStorage.getItem("user"),c="ADMIN"===tt.getters.role;return o&&!i||l&&!i?r("/login"):s&&i&&!c||o&&!c&&i?r("/subjects"):l&&c&&i||s&&c&&i?r("/admin"):r()}));var st=nt,at=r(4609),ot=r.n(at),ut=r(8420),lt=r.n(ut);const it=r(1917),ct=(0,n.ri)(S);it.keys().forEach((e=>{const t=it(e),r=ot()(lt()(e.replace(/^\.\/(.*)\.\w+$/,"$1")));ct.component(r,t.default||t)})),ct.use(tt).use(st).mount("#app")},4524:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var n=r(3396);const s=["id"];function a(e,t,r,a,o,u){return(0,n.wg)(),(0,n.iD)("p",{"aria-live":"assertive",class:"errorMessage",id:r.id},[(0,n.WI)(e.$slots,"default",{},void 0,!0)],8,s)}var o={props:{id:{type:[String,Number],required:!0}}},u=r(89);const l=(0,u.Z)(o,[["render",a],["__scopeId","data-v-b3a6cd26"]]);var i=l},3211:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(3396),s=r(7139);const a={class:"container"},o=["for"],u=["id","value","placeholder","aria-describedby","aria-invalid"];function l(e,t,r,l,i,c){const d=(0,n.up)("BaseErrorMessage");return(0,n.wg)(),(0,n.iD)("div",a,[r.label?((0,n.wg)(),(0,n.iD)("label",{key:0,for:l.uuid},(0,s.zw)(r.label),9,o)):(0,n.kq)("",!0),(0,n._)("input",(0,n.dG)({class:"field"},e.$attrs,{onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),id:l.uuid,value:r.modelValue,placeholder:r.label,"aria-describedby":r.error?`${l.uuid}-error`:null,"aria-invalid":!!r.error,class:{error:r.error}}),null,16,u),(0,n.Wm)(d,{id:`${l.uuid}-error`},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(r.error),1)])),_:1},8,["id"])])}let i=0;function c(){const e=()=>(i++,i);return{getID:e}}var d={props:{label:{type:String,default:""},error:{type:String,default:""},modelValue:{type:[String,Number],default:""}},setup(){const e=c().getID();return{uuid:e}}},m=r(89);const p=(0,m.Z)(d,[["render",l],["__scopeId","data-v-252fad5b"]]);var f=p},1917:function(e,t,r){var n={"./BaseErrorMessage.vue":4524,"./BaseInput.vue":3211};function s(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id=1917},6949:function(e,t,r){"use strict";e.exports=r.p+"img/logo.d1e80654.png"}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n](a,a.exports,r),a.loaded=!0,a.exports}r.m=e,function(){var e=[];r.O=function(t,n,s,a){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],a=e[c][2];for(var u=!0,l=0;l<n.length;l++)(!1&a||o>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(u=!1,a<o&&(o=a));if(u){e.splice(c--,1);var i=s();void 0!==i&&(t=i)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,s,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){r.p="/"}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,a,o=n[0],u=n[1],l=n[2],i=0;if(o.some((function(t){return 0!==e[t]}))){for(s in u)r.o(u,s)&&(r.m[s]=u[s]);if(l)var c=l(r)}for(t&&t(n);i<o.length;i++)a=o[i],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(8066)}));n=r.O(n)})();
//# sourceMappingURL=app.f8e88787.js.map